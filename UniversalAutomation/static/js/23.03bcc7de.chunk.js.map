{"version":3,"sources":["components/dashboard/components/TotalMemory.tsx","../node_modules/byte-size/dist/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js"],"names":["TotalMemory","memory","useQuery","enabled","queryClient","getQueryData","some","dashboard","status","data","memoryFormat","value","unit","byteSize","totalMemory","bordered","title","valueStyle","color","suffix","prefix","module","exports","defaultOptions","_options","WeakMap","ByteSize","bytes","options","Object","assign","units","precision","set","this","tables","metric","from","to","long","metric_octet","iec","Math","pow","iec_octet","customUnits","abs","table","Error","find","u","toFixed","get","toStringFn","bind","factory","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype"],"mappings":"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","file":"static/js/23.03bcc7de.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Card, Statistic } from \"antd\";\r\nimport { FundOutlined } from \"@ant-design/icons\";\r\nimport byteSize from \"byte-size\";\r\nimport { useQuery } from \"react-query3\";\r\nimport queryClient from \"components/utils/queryClient\";\r\nimport { Dashboard } from \"types\";\r\n\r\nexport default function TotalMemory() {\r\n  const { data: memory } = useQuery<any>(\r\n    \"/dashboard/diagnostics/memory\",{ \r\n      enabled: queryClient.getQueryData<Dashboard[]>('/dashboard')?.some(dashboard => dashboard?.status === 1)\r\n    }\r\n  );\r\n\r\n  let memoryFormat = {\r\n    value: 0,\r\n    unit: 'bytes'\r\n  }\r\n  if (memory)\r\n  {\r\n    memoryFormat = byteSize(memory?.totalMemory);\r\n  }\r\n\r\n  return (\r\n    <Card bordered={false}>\r\n      <Statistic\r\n        title=\"Total memory usage\"\r\n        value={memoryFormat.value}\r\n        valueStyle={{ color: \"#1890ff\" }}\r\n        suffix={memoryFormat.unit}\r\n        prefix={<FundOutlined />}\r\n      />\r\n    </Card>\r\n  );\r\n}\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.byteSize = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * @module byte-size\n   */\n\n  let defaultOptions = {};\n  const _options = new WeakMap();\n\n  class ByteSize {\n    constructor (bytes, options) {\n      options = Object.assign({\n        units: 'metric',\n        precision: 1\n      }, defaultOptions, options);\n      _options.set(this, options);\n\n      const tables = {\n        metric: [\n          { from: 0   , to: 1e3 , unit: 'B' , long: 'bytes' },\n          { from: 1e3 , to: 1e6 , unit: 'kB', long: 'kilobytes' },\n          { from: 1e6 , to: 1e9 , unit: 'MB', long: 'megabytes' },\n          { from: 1e9 , to: 1e12, unit: 'GB', long: 'gigabytes' },\n          { from: 1e12, to: 1e15, unit: 'TB', long: 'terabytes' },\n          { from: 1e15, to: 1e18, unit: 'PB', long: 'petabytes' },\n          { from: 1e18, to: 1e21, unit: 'EB', long: 'exabytes' },\n          { from: 1e21, to: 1e24, unit: 'ZB', long: 'zettabytes' },\n          { from: 1e24, to: 1e27, unit: 'YB', long: 'yottabytes' },\n        ],\n        metric_octet: [\n          { from: 0   , to: 1e3 , unit: 'o' , long: 'octets' },\n          { from: 1e3 , to: 1e6 , unit: 'ko', long: 'kilooctets' },\n          { from: 1e6 , to: 1e9 , unit: 'Mo', long: 'megaoctets' },\n          { from: 1e9 , to: 1e12, unit: 'Go', long: 'gigaoctets' },\n          { from: 1e12, to: 1e15, unit: 'To', long: 'teraoctets' },\n          { from: 1e15, to: 1e18, unit: 'Po', long: 'petaoctets' },\n          { from: 1e18, to: 1e21, unit: 'Eo', long: 'exaoctets' },\n          { from: 1e21, to: 1e24, unit: 'Zo', long: 'zettaoctets' },\n          { from: 1e24, to: 1e27, unit: 'Yo', long: 'yottaoctets' },\n        ],\n        iec: [\n          { from: 0                , to: Math.pow(1024, 1), unit: 'B'  , long: 'bytes' },\n          { from: Math.pow(1024, 1), to: Math.pow(1024, 2), unit: 'KiB', long: 'kibibytes' },\n          { from: Math.pow(1024, 2), to: Math.pow(1024, 3), unit: 'MiB', long: 'mebibytes' },\n          { from: Math.pow(1024, 3), to: Math.pow(1024, 4), unit: 'GiB', long: 'gibibytes' },\n          { from: Math.pow(1024, 4), to: Math.pow(1024, 5), unit: 'TiB', long: 'tebibytes' },\n          { from: Math.pow(1024, 5), to: Math.pow(1024, 6), unit: 'PiB', long: 'pebibytes' },\n          { from: Math.pow(1024, 6), to: Math.pow(1024, 7), unit: 'EiB', long: 'exbibytes' },\n          { from: Math.pow(1024, 7), to: Math.pow(1024, 8), unit: 'ZiB', long: 'zebibytes' },\n          { from: Math.pow(1024, 8), to: Math.pow(1024, 9), unit: 'YiB', long: 'yobibytes' },\n        ],\n        iec_octet: [\n          { from: 0                , to: Math.pow(1024, 1), unit: 'o'  , long: 'octets' },\n          { from: Math.pow(1024, 1), to: Math.pow(1024, 2), unit: 'Kio', long: 'kibioctets' },\n          { from: Math.pow(1024, 2), to: Math.pow(1024, 3), unit: 'Mio', long: 'mebioctets' },\n          { from: Math.pow(1024, 3), to: Math.pow(1024, 4), unit: 'Gio', long: 'gibioctets' },\n          { from: Math.pow(1024, 4), to: Math.pow(1024, 5), unit: 'Tio', long: 'tebioctets' },\n          { from: Math.pow(1024, 5), to: Math.pow(1024, 6), unit: 'Pio', long: 'pebioctets' },\n          { from: Math.pow(1024, 6), to: Math.pow(1024, 7), unit: 'Eio', long: 'exbioctets' },\n          { from: Math.pow(1024, 7), to: Math.pow(1024, 8), unit: 'Zio', long: 'zebioctets' },\n          { from: Math.pow(1024, 8), to: Math.pow(1024, 9), unit: 'Yio', long: 'yobioctets' },\n        ],\n      };\n      Object.assign(tables, options.customUnits);\n\n      const prefix = bytes < 0 ? '-' : '';\n      bytes = Math.abs(bytes);\n      const table = tables[options.units];\n      if (table) {\n        const units = table.find(u => bytes >= u.from && bytes < u.to);\n        if (units) {\n          const value = units.from === 0\n            ? prefix + bytes\n            : prefix + (bytes / units.from).toFixed(options.precision);\n          this.value = value;\n          this.unit = units.unit;\n          this.long = units.long;\n        } else {\n          this.value = prefix + bytes;\n          this.unit = '';\n          this.long = '';\n        }\n      } else {\n        throw new Error(`Invalid units specified: ${options.units}`)\n      }\n    }\n\n    toString () {\n      const options = _options.get(this);\n      return options.toStringFn ? options.toStringFn.bind(this)() : `${this.value} ${this.unit}`\n    }\n  }\n\n  /**\n   * Returns an object with the spec `{ value: string, unit: string, long: string }`. The returned object defines a `toString` method meaning it can be used in any string context.\n   * @param {number} - The bytes value to convert.\n   * @param [options] {object} - Optional config.\n   * @param [options.precision] {number} - Number of decimal places. Defaults to `1`.\n   * @param [options.units] {string} - Specify `'metric'`, `'iec'`, `'metric_octet'`, `'iec_octet'` or the name of a property from the custom units table in `options.customUnits`. Defaults to `metric`.\n   * @param [options.customUnits] {object} - An object containing one or more custom unit lookup tables.\n   * @param [options.toStringFn] {function} - A `toString` function to override the default.\n   * @returns {object}\n   * @alias module:byte-size\n   */\n  function byteSize (bytes, options) {\n    return new ByteSize(bytes, options)\n  }\n\n  /**\n   * Set the default `byteSize` options for the duration of the process.\n   * @param options {object} - A `byteSize` options object.\n   */\n  byteSize.defaultOptions = function (options) {\n    defaultOptions = options;\n  };\n\n  return byteSize;\n\n})));\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;"],"sourceRoot":""}