(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[84],{1460:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n(49),c=n.n(r),a=n(84),i=n(27),u=n(0),s=n.n(u),o=n(48),l=n(415),d=n(43),b=n(954),p=n(696),j=n(452),f=n(92),h=n(70),O=n(928),x=n(631),g=n(340),v=n(577),w=n(578),m=n(117),k=n.n(m),y=n(1164),S=n(1165),I=n(1166),C=n(1167),L=n(3),D=new S.FitAddon,R=new I.SearchAddon,A=new y.WebLinksAddon,E=function(e){var t=e.processId,n=e.runspaceId,r=e.refetch,i=s.a.useRef(null),l=s.a.useRef("");return Object(u.useEffect)((function(){var e=i.current;D.fit(),i.current.terminal.write("PowerShell Universal Debugger\r\n");var u=i.current.terminal,s=function(){var e=Object(a.a)(c.a.mark((function e(a){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("/api/v1/debugger/breakpoint/".concat(t,"/").concat(n),{type:o.d.Command,command:a});case 2:return i=e.sent,r(),e.abrupt("return",i.data.output);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){s("prompt").then((function(e){if(e){for(var t=0;t<e.length;t++)u.write("\b \b");u.write(e.trimEnd())}}))};return i.current.terminal.onKey((function(e){if("\r"===e.key){if("cls"===l.current.toLocaleLowerCase()||"clear-host"===l.current.toLocaleLowerCase())return u.clear(),d(),void(l.current="");s(l.current).then((function(e){u.writeln(e),d(),l.current=""}))}if("\x1b"!==e.key)"\x7f"!==e.key?(i.current.terminal.write(e.key),l.current=l.current+e.key):l.current.length>0&&(l.current=l.current.substr(0,l.current.length-1),u.write("\b \b"));else if(l.current.length>0){for(var t=0;t<l.current.length;t++)u.write("\b \b");l.current=""}})),d(),function(){return e.terminal.dispose()}}),[i,t,n,r]),Object(L.jsx)("div",{className:"height100",children:Object(L.jsx)(C.a,{ref:i,addons:[R,D,A],options:{cursorBlink:!0},className:"height100"})})};function T(){var e=Object(d.i)(),t=e.processId,n=e.runspaceId,r=s.a.useState(!1),u=Object(i.a)(r,2),m=u[0],y=u[1],S=Object(l.a)("/debugger/breakpoint/".concat(t,"/").concat(n),{onSuccess:function(){return y(!1)},onError:function(){return y(!0)}}),I=S.isLoading,C=S.refetch,D=s.a.useState(!1),R=Object(i.a)(D,2),A=R[0],T=R[1],J=function(){var e=Object(a.a)(c.a.mark((function e(r,a){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,k()({method:"PUT",url:"/api/v1/debugger/breakpoint/".concat(t,"/").concat(n),data:{type:r,command:a}});case 3:return i=e.sent,e.next=6,C();case 6:return T(!1),e.abrupt("return",i.data);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(L.jsx)(b.a,{title:"Debugger",subTitle:"Debugging process ID ".concat(t," and runspace ID ").concat(n),tags:(m||I)&&Object(L.jsxs)(p.a,{color:"green",children:[Object(L.jsx)(x.a,{})," Running"]}),children:!m||I?Object(L.jsxs)(j.b,{direction:"vertical",style:{width:"100%"},children:[Object(L.jsxs)(j.b,{direction:"horizontal",children:[Object(L.jsx)(f.a,{title:"Continue",children:Object(L.jsx)(h.a,{disabled:A||I||m,icon:Object(L.jsx)(x.a,{}),onClick:function(){return J(o.d.Continue)}})}),Object(L.jsx)(f.a,{title:"Step Over",children:Object(L.jsx)(h.a,{disabled:A||I||m,icon:Object(L.jsx)(g.a,{}),onClick:function(){return J(o.d.StepOver)}})}),Object(L.jsx)(f.a,{title:"Step Into",children:Object(L.jsx)(h.a,{disabled:A||I||m,icon:Object(L.jsx)(v.a,{}),onClick:function(){return J(o.d.StepInto)}})}),Object(L.jsx)(f.a,{title:"Step Out",children:Object(L.jsx)(h.a,{disabled:A||I||m,icon:Object(L.jsx)(w.a,{}),onClick:function(){return J(o.d.StepOut)}})})]}),Object(L.jsx)(E,{processId:t,runspaceId:n,refetch:C})]}):Object(L.jsx)(O.a,{title:"Runspace is not stopped at a breakpoint",subTitle:"Runspace is currently running a script."})})}}}]);
//# sourceMappingURL=84.a3dbbd84.chunk.js.map