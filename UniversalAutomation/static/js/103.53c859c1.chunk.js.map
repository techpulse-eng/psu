{"version":3,"sources":["components/scripts/components/scriptModal.tsx"],"names":["ScriptModal","folderPath","useModalContext","onOk","form","userData","useAppStore","requiredRoles","requiredAccessControls","AccessControlTypes","Create","allowedWithOneWayGitSync","accessControls","scripts","children","title","onClickOk","content","fullPath","getFieldValue","formName","schemaName","name","preserve"],"mappings":"+JAAA,4GAWe,SAASA,EAAT,GAAsC,IAAD,EAAdC,EAAc,EAAdA,WAAc,EAC3BC,cAAfC,EAD0C,EAC1CA,KAAMC,EADoC,EACpCA,KACNC,EAAaC,cAAbD,SASR,OACE,eAAC,WAAD,WACE,cAAC,IAAD,CACEE,cAAe,CAAC,gBAAiB,YACjCC,uBAAwBC,IAAmBC,OAC3CC,0BAA0B,EAC1BC,eAAc,OAAEP,QAAF,IAAEA,GAAF,UAAEA,EAAUO,sBAAZ,aAAE,EAA0BC,QAJ5C,SAKE,cAAC,IAAD,CAAQC,SAAS,wBAEnB,cAAC,IAAD,CAAcC,MAAM,oBAAoBC,UAhB5C,WACEb,EAAK,UAAW,SAAU,CACxBc,QAAS,yDACTC,SAAUjB,EAAaA,EAAa,KAAOG,EAAKe,cAAc,QAAUf,EAAKe,cAAc,WAa9BC,SAAS,qBAAtE,SACE,cAAC,IAAD,CAAMC,WAAW,SAAjB,SACE,cAAC,IAAD,CACEC,KAAK,qBACLlB,KAAMA,EACNmB,UAAU","file":"static/js/103.53c859c1.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { Button } from \"antd\";\r\nimport {\r\n  ModalContent,\r\n  ModalOpenButton,\r\n  useModalContext,\r\n} from \"components/ui/Modal\";\r\nimport { Form, FormContentBase } from \"components/ui/Form/Form\";\r\nimport { AccessControlTypes } from \"types\";\r\nimport useAppStore from \"components/context/app/Hooks\";\r\n\r\nexport default function ScriptModal({ folderPath }) {\r\n  const { onOk, form } = useModalContext();\r\n  const { userData } = useAppStore();\r\n\r\n  function handleOk() {\r\n    onOk(\"/script\", \"create\", {\r\n      content: \"# It all starts with a single line of powershell code.\",\r\n      fullPath: folderPath ? folderPath + '\\\\' + form.getFieldValue('name') : form.getFieldValue('name')\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <ModalOpenButton\r\n        requiredRoles={[\"Administrator\", \"Operator\"]}\r\n        requiredAccessControls={AccessControlTypes.Create}\r\n        allowedWithOneWayGitSync={false}\r\n        accessControls={userData?.accessControls?.scripts}>\r\n        <Button children=\"Create New Script\" />\r\n      </ModalOpenButton>\r\n      <ModalContent title=\"Create new script\" onClickOk={handleOk} formName=\"create_script_form\">\r\n        <Form schemaName=\"script\">\r\n          <FormContentBase\r\n            name=\"create_script_form\"\r\n            form={form}\r\n            preserve={false}\r\n          />\r\n        </Form>\r\n      </ModalContent>\r\n    </Fragment>\r\n  );\r\n}\r\n"],"sourceRoot":""}