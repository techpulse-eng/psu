{"version":3,"sources":["components/dashboard/DashboardModal.tsx","components/ui/BuyLicenseAlertBox.tsx"],"names":["DashboardModal","licensed","useAppStore","useModalContext","onOk","form","data","useQuery","requiredRoles","requiredAccessControls","AccessControlTypes","Create","allowedWithOneWayGitSync","children","title","onClickOk","dashboardFramework","id","formName","schemaName","name","preserve","defaultValues","view","baseUrl","authenticated","Feature","Dashboard","gotoDashboard","autoStart","autoDeploy","environment","role","BuyLicenseAlertBox","type","message","align","style","width","justifyContent","Link","href","target"],"mappings":"8JAAA,8HAae,SAASA,IAAkB,IAChCC,EAAaC,cAAbD,SAD+B,EAEhBE,cAAfC,EAF+B,EAE/BA,KAAMC,EAFyB,EAEzBA,KACNC,EAASC,YAAoB,8BAA7BD,KAQR,OACE,eAAC,WAAD,WACE,cAAC,IAAD,CAAiBE,cAAe,CAAC,gBAAiB,YAAaC,uBAAwBC,IAAmBC,OAAQC,0BAA0B,EAA5I,SACE,cAAC,IAAD,CAAQC,SAAS,2BAEnB,cAAC,IAAD,CAAcC,MAAM,uBAAuBC,UAX/C,WACEX,EAAK,aAAc,SAAU,CAC3BY,mBAAoB,CAAEC,GAAI,MASsCC,SAAS,wBAAzE,SACE,eAAC,IAAD,CAAMC,WAAW,YAAjB,UACE,cAAC,IAAD,CACEC,KAAK,wBACLf,KAAMA,EACNgB,UAAU,EACVC,cAAe,CACbC,KAAM,MACNC,QAAS,aACTC,cAAexB,EAASyB,IAAQC,WAChCX,mBAAkB,OAAEV,QAAF,IAAEA,OAAF,EAAEA,EAAMW,GAC1BW,eAAe,EACfC,WAAW,EACXC,YAAY,EACZC,YAAa,UACbC,KAAM,OAGR/B,EAASyB,IAAQC,YAAc,cAAC,IAAD,c,iCC/C3C,6EAGe,SAASM,IACtB,OACE,cAAC,IAAD,CACEC,KAAK,OACLC,QACE,eAAC,IAAD,CACEC,MAAM,SACNC,MAAO,CAAEC,MAAO,OAAQC,eAAgB,iBAF1C,+CAKE,cAAC,IAAWC,KAAZ,CACEC,KAAK,gEACLC,OAAO,SAFT","file":"static/js/39.d81c5347.chunk.js","sourcesContent":["import React, { Fragment } from \"react\";\r\nimport { Button } from \"antd\";\r\nimport {\r\n  ModalContent,\r\n  ModalOpenButton,\r\n  useModalContext,\r\n} from \"components/ui/Modal\";\r\nimport { Form, FormContentBase } from \"components/ui/Form/Form\";\r\nimport { AccessControlTypes, Dashboard, Feature, Framework } from \"types\";\r\nimport BuyLicenseAlertBox from \"../ui/BuyLicenseAlertBox\";\r\nimport useAppStore from \"components/context/app/Hooks\";\r\nimport { useQuery } from \"react-query3\";\r\n\r\nexport default function DashboardModal() {\r\n  const { licensed } = useAppStore();\r\n  const { onOk, form } = useModalContext();\r\n  const { data } = useQuery<Framework>(\"/dashboardframework/newest\");\r\n\r\n  function handleOk() {\r\n    onOk(\"/dashboard\", \"create\", {\r\n      dashboardFramework: { id: 0 },\r\n    } as Dashboard);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <ModalOpenButton requiredRoles={[\"Administrator\", \"Operator\"]} requiredAccessControls={AccessControlTypes.Create} allowedWithOneWayGitSync={false}>\r\n        <Button children=\"Create New Dashboard\" />\r\n      </ModalOpenButton>\r\n      <ModalContent title=\"Create new dashboard\" onClickOk={handleOk} formName=\"create_dashboard_form\">\r\n        <Form schemaName=\"dashboard\">\r\n          <FormContentBase\r\n            name=\"create_dashboard_form\"\r\n            form={form}\r\n            preserve={false}\r\n            defaultValues={{\r\n              view: 'new',\r\n              baseUrl: \"/dashboard\",\r\n              authenticated: licensed(Feature.Dashboard),\r\n              dashboardFramework: data?.id,\r\n              gotoDashboard: true,\r\n              autoStart: true,\r\n              autoDeploy: false,\r\n              environment: \"Default\",\r\n              role: []\r\n            }}\r\n          />\r\n          {!licensed(Feature.Dashboard) && <BuyLicenseAlertBox />}\r\n        </Form>\r\n      </ModalContent>\r\n    </Fragment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Alert, Space, Typography } from \"antd\";\r\n\r\nexport default function BuyLicenseAlertBox() {\r\n  return (\r\n    <Alert\r\n      type=\"info\"\r\n      message={\r\n        <Space\r\n          align=\"center\"\r\n          style={{ width: \"100%\", justifyContent: \"space-between\" }}\r\n        >\r\n          Authentication requires a license.\r\n          <Typography.Link\r\n            href=\"https://ironmansoftware.com/powershell-universal/?rel=product\"\r\n            target=\"_blank\"\r\n          >\r\n            Buy License.\r\n          </Typography.Link>\r\n        </Space>\r\n      }\r\n    />\r\n  );\r\n}\r\n"],"sourceRoot":""}