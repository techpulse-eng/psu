{"version":3,"sources":["components/notifications/notifications.tsx"],"names":["columns","title","dataIndex","key","onFilter","value","record","startsWith","filterSearch","sorter","a","b","localeCompare","createdTime","render","text","start","dayjs","toString","to","level","NotificationLevel","Information","color","Warning","Error","description","resource","size","icon","Notifications","useQuery","refetchOnWindowFocus","keepPreviousData","notifications","data","isLoading","subTitle","extra","danger","dataSource","tableLayout"],"mappings":"8JAAA,wKASMA,EAAU,CACZ,CACIC,MAAO,QACPC,UAAW,QACXC,IAAK,QACLC,SAAU,SAACC,EAAOC,GAAR,OAAmBA,EAAOL,MAAMM,WAAWF,IACrDG,cAAc,EACdC,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAET,MAAMW,cAAcD,EAAEV,SAE9C,CACIA,MAAO,eACPC,UAAW,cACXC,IAAK,cACLC,SAAU,SAACC,EAAOC,GAAR,OAAmBA,EAAOO,YAAYN,WAAWF,IAC3DG,cAAc,EACdC,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEG,YAAYD,cAAcD,EAAEE,cAChDC,OAAQ,SAACC,EAAMT,GACX,IAAMU,EAAQC,IAAK,OAACX,QAAD,IAACA,OAAD,EAACA,EAAQO,aAC5B,OACI,cAAC,IAAD,CAASZ,MAAOgB,IAAK,OAACX,QAAD,IAACA,OAAD,EAACA,EAAQO,aAAaK,WAA3C,SACKD,MAAQE,GAAGH,OAK5B,CACIf,MAAO,QACPC,UAAW,QACXC,IAAK,QACLW,OAAQ,SAACC,EAAMT,GACX,OAAQA,EAAOc,OACX,KAAKC,IAAkBC,YACnB,OAAO,cAAC,IAAD,CAAKC,MAAO,OAAZ,kBACX,KAAKF,IAAkBG,QACnB,OAAO,cAAC,IAAD,CAAKD,MAAO,SAAZ,qBACX,KAAKF,IAAkBI,MACnB,OAAO,cAAC,IAAD,CAAKF,MAAO,MAAZ,sBAIvB,CACItB,MAAO,cACPC,UAAW,cACXC,IAAK,cACLC,SAAU,SAACC,EAAOC,GAAR,OAAmBA,EAAOoB,YAAYnB,WAAWF,IAC3DG,cAAc,EACdC,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEgB,YAAYd,cAAcD,EAAEe,eAEpD,CACIzB,MAAO,SACPC,UAAW,SACXC,IAAK,SACLW,OAAQ,SAACC,EAAMT,GACX,OACI,cAAC,IAAD,CACIqB,SAAUrB,EACVsB,KAAK,QACLC,KAAM,cAAC,IAAD,SAOX,SAASC,IAAiB,IAAD,EACOC,YAAyB,gBAAiB,CACjFC,sBAAsB,EACtBC,kBAAkB,IAFRC,EADsB,EAC5BC,KAAqBC,EADO,EACPA,UAK7B,OACI,eAAC,IAAD,CAAYnC,MAAM,gBAAgBoC,SAAS,yCACvCC,MACI,CACI,cAAC,IAAD,CAAuBC,QAAM,KAHzC,UAOKH,GAAa,cAAC,IAAD,KACZA,GAAa,cAAC,IAAD,CAAOI,WAAYN,EAAelC,QAASA,EAASyC,YAAY","file":"static/js/92.7aa53e1f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { PageHeader, Spin, Table, Tag, Tooltip } from \"antd\";\r\nimport { useQuery } from \"react-query3\";\r\nimport DeleteAllNotification from \"components/ui/DeleteAllNotification\";\r\nimport DeleteNotificationButton from \"components/ui/DeleteNotificationButton\";\r\nimport dayjs from \"dayjs\";\r\nimport { DeleteFilled } from \"@ant-design/icons\";\r\nimport { NotificationLevel } from \"types\";\r\n\r\nconst columns = [\r\n    {\r\n        title: 'Title',\r\n        dataIndex: 'title',\r\n        key: 'title',\r\n        onFilter: (value, record) => record.title.startsWith(value),\r\n        filterSearch: true,\r\n        sorter: (a, b) => a.title.localeCompare(b.title),\r\n    },\r\n    {\r\n        title: 'Created Time',\r\n        dataIndex: 'createdTime',\r\n        key: 'createdTime',\r\n        onFilter: (value, record) => record.createdTime.startsWith(value),\r\n        filterSearch: true,\r\n        sorter: (a, b) => a.createdTime.localeCompare(b.createdTime),\r\n        render: (text, record) => {\r\n            const start = dayjs(record?.createdTime);\r\n            return (\r\n                <Tooltip title={dayjs(record?.createdTime).toString()}>\r\n                    {dayjs().to(start)}\r\n                </Tooltip>\r\n            )\r\n        }\r\n    },\r\n    {\r\n        title: 'Level',\r\n        dataIndex: 'level',\r\n        key: 'level',\r\n        render: (text, record) => {\r\n            switch (record.level) {\r\n                case NotificationLevel.Information:\r\n                    return <Tag color={\"blue\"}>Info</Tag>\r\n                case NotificationLevel.Warning:\r\n                    return <Tag color={\"yellow\"}>Warning</Tag>\r\n                case NotificationLevel.Error:\r\n                    return <Tag color={\"red\"}>Error</Tag>\r\n            }\r\n        }\r\n    },\r\n    {\r\n        title: 'Description',\r\n        dataIndex: 'description',\r\n        key: 'description',\r\n        onFilter: (value, record) => record.description.startsWith(value),\r\n        filterSearch: true,\r\n        sorter: (a, b) => a.description.localeCompare(b.description),\r\n    },\r\n    {\r\n        title: 'Action',\r\n        dataIndex: 'action',\r\n        key: 'action',\r\n        render: (text, record) => {\r\n            return (\r\n                <DeleteNotificationButton\r\n                    resource={record}\r\n                    size=\"small\"\r\n                    icon={<DeleteFilled />}\r\n                />\r\n            )\r\n        }\r\n    },\r\n];\r\n\r\nexport default function Notifications() {\r\n    const { data: notifications, isLoading } = useQuery<Notification[]>(\"/notification\", {\r\n        refetchOnWindowFocus: false,\r\n        keepPreviousData: true,\r\n    });\r\n\r\n    return (\r\n        <PageHeader title=\"Notifications\" subTitle=\"Notifications generated by the system.\"\r\n            extra={\r\n                [\r\n                    <DeleteAllNotification danger />\r\n                ]\r\n            }>\r\n\r\n            {isLoading && <Spin />}\r\n            {!isLoading && <Table dataSource={notifications} columns={columns} tableLayout=\"fixed\" />}\r\n        </PageHeader>\r\n    )\r\n\r\n\r\n}\r\n"],"sourceRoot":""}