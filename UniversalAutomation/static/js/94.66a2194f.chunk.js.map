{"version":3,"sources":["components/protect/protectEvents.tsx","components/protect/protectConfigs.tsx","components/protect/protect.tsx"],"names":["ProtectEvents","useQuery","enabled","refetchOnWindowFocus","pages","data","isLoading","refetch","Table","title","columns","key","dataIndex","loading","queryFn","ProtectConfigModal","React","lazy","ProtectConfigs","editable","width","render","text","record","style","justifyContent","icon","DownloadOutlined","onClick","window","location","href","toRelativeUrl","id","type","to","pathname","CodeFilled","DeleteButton","resource","allowedWithOneWayGitSync","actions","Modal","Protect","subTitle","extra","url","TabPane","tab"],"mappings":"qRAKe,SAASA,IAAiB,IAAD,EACQC,YACxC,WACA,CAAEC,SAAS,EAAOC,sBAAsB,IAF9BC,EADsB,EAC5BC,KAAaC,EADe,EACfA,UAAWC,EADI,EACJA,QAiChC,OACI,cAACC,EAAA,QAAD,CACIC,MAAM,4BACNC,QA/BuC,CAC3C,CACIC,IAAK,YACLF,MAAO,YACPG,UAAW,aAEf,CACIH,MAAO,OACPE,IAAK,OACLC,UAAW,QAEf,CACIH,MAAO,gBACPE,IAAK,eACLC,UAAW,gBAEf,CACIH,MAAO,cACPE,IAAK,aACLC,UAAW,cAEf,CACIH,MAAO,YACPE,IAAK,WACLC,UAAW,aAQXP,KAAMD,EACNS,QAASP,EACTQ,QAASP,I,iFCnCfQ,EAAqBC,IAAMC,MAAK,kBAAM,mCAE7B,SAASC,IAAkB,IAAD,EACOjB,YACxC,kBACA,CAAEC,SAAS,EAAOC,sBAAsB,IAF9BC,EADuB,EAC7BC,KAAaC,EADgB,EAChBA,UAAWC,EADK,EACLA,QAK1BG,EAAiD,CACnD,CACIC,IAAK,OACLF,MAAO,OACPG,UAAW,OACXO,UAAU,GAEd,CACIV,MAAO,cACPE,IAAK,cACLC,UAAW,cACXO,UAAU,GAEd,CACIC,MAAO,cACPR,UAAW,UACXO,UAAU,EACVE,OAAQ,SAACC,EAAMC,GACX,OACI,eAAC,IAAD,CAAOC,MAAO,CAAEC,eAAgB,WAAYL,MAAO,QAAnD,UACI,cAAC,IAAD,CAASX,MAAM,yBAAf,SACI,cAAC,IAAD,CAAQiB,KAAM,cAACC,EAAA,EAAD,IAAsBC,QAAS,kBAAMC,OAAOC,SAASC,KAAOC,YAAc,0BAAD,OAA2BT,EAAOU,GAAlC,eAAkDC,KAAK,WAGlJ,cAAC,IAAD,CACIC,GAAI,CACAC,SAAS,UAAD,OAAYb,EAAOU,KAFnC,SAKI,cAAC,IAAD,CAASxB,MAAM,qBAAf,SACI,cAAC,IAAD,CAAQyB,KAAK,OAAOR,KAAM,cAACW,EAAA,EAAD,UAIlC,cAACC,EAAA,QAAD,CAAcC,SAAUhB,EAAQiB,0BAA0B,UAO9E,OACI,cAAChC,EAAA,QAAD,CACIC,MAAM,oCACNgC,QAAS,CACL,cAACC,EAAA,EAAD,UACI,cAAC3B,EAAD,CAAoBR,QAASA,OAGrCG,QAASA,EACTL,KAAMD,EACNS,QAASP,EACTQ,QAASP,ICjEN,SAASoC,IACpB,OACI,cAAC,IAAD,CAAYlC,MAAM,qBAAqBmC,SAAS,sCAAsCC,MAAO,CACzF,cAAC,IAAD,CAAYC,IAAI,0BADpB,SAGI,eAAC,IAAD,WACI,cAAC,IAAKC,QAAN,CAAwBC,IAAI,SAA5B,SACI,cAAChD,EAAD,KADe,KAGnB,cAAC,IAAK+C,QAAN,CAAwBC,IAAI,iBAA5B,SACI,cAAC9B,EAAD,KADe","file":"static/js/94.66a2194f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { CustomColumns, ProtectEvent } from \"../../types\";\r\nimport { useQuery } from \"react-query3\";\r\nimport Table from \"../ui/Table\";\r\n\r\nexport default function ProtectEvents() {\r\n    const { data: pages, isLoading, refetch } = useQuery<ProtectEvent[]>(\r\n        \"/protect\",\r\n        { enabled: false, refetchOnWindowFocus: false }\r\n    );\r\n\r\n    const columns: CustomColumns<ProtectEvent>[] = [\r\n        {\r\n            key: \"timestamp\",\r\n            title: \"Timestamp\",\r\n            dataIndex: \"timestamp\"\r\n        },\r\n        {\r\n            title: \"Rule\",\r\n            key: \"rule\",\r\n            dataIndex: \"rule\"\r\n        },\r\n        {\r\n            title: \"Computer Name\",\r\n            key: \"computerName\",\r\n            dataIndex: \"computerName\"\r\n        },\r\n        {\r\n            title: \"Domain Name\",\r\n            key: \"domainName\",\r\n            dataIndex: \"domainName\"\r\n        },\r\n        {\r\n            title: \"User Name\",\r\n            key: \"userName\",\r\n            dataIndex: \"userName\"\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <Table\r\n            title=\"PowerShell Protect Events\"\r\n            columns={columns}\r\n            data={pages}\r\n            loading={isLoading}\r\n            queryFn={refetch}\r\n        />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { CustomColumns, ProtectConfiguration } from \"../../types\";\r\nimport { useQuery } from \"react-query3\";\r\nimport { Modal } from \"components/ui/Modal\";\r\nimport { Button, Space, Tooltip } from \"antd\";\r\nimport Table from \"../ui/Table\";\r\nimport DeleteButton from \"components/ui/DeleteButton\";\r\nimport { CodeFilled, DownloadOutlined } from \"@ant-design/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { toRelativeUrl } from \"components/utils/utils\";\r\nconst ProtectConfigModal = React.lazy(() => import(\"./protectConfigModal\"));\r\n\r\nexport default function ProtectConfigs() {\r\n    const { data: pages, isLoading, refetch } = useQuery<ProtectConfiguration[]>(\r\n        \"/protect/config\",\r\n        { enabled: false, refetchOnWindowFocus: false }\r\n    );\r\n\r\n    const columns: CustomColumns<ProtectConfiguration>[] = [\r\n        {\r\n            key: \"name\",\r\n            title: \"Name\",\r\n            dataIndex: \"name\",\r\n            editable: true,\r\n        },\r\n        {\r\n            title: \"Description\",\r\n            key: \"description\",\r\n            dataIndex: \"description\",\r\n            editable: true,\r\n        },\r\n        {\r\n            width: \"fit-content\",\r\n            dataIndex: \"actions\",\r\n            editable: false,\r\n            render: (text, record) => {\r\n                return (\r\n                    <Space style={{ justifyContent: \"flex-end\", width: \"100%\" }}>\r\n                        <Tooltip title=\"Download Configuration\">\r\n                            <Button icon={<DownloadOutlined />} onClick={() => window.location.href = toRelativeUrl(`/api/v1/protect/config/${record.id}/download`)} type=\"text\"></Button>\r\n                        </Tooltip>\r\n\r\n                        <Link\r\n                            to={{\r\n                                pathname: `config/${record.id}`,\r\n                            }}\r\n                        >\r\n                            <Tooltip title=\"Edit Configuration\">\r\n                                <Button type=\"text\" icon={<CodeFilled />} />\r\n                            </Tooltip>\r\n                        </Link>\r\n\r\n                        <DeleteButton resource={record} allowedWithOneWayGitSync={false} />\r\n                    </Space>\r\n                );\r\n            },\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <Table\r\n            title=\"PowerShell Protect Configurations\"\r\n            actions={[\r\n                <Modal>\r\n                    <ProtectConfigModal refetch={refetch} />\r\n                </Modal>,\r\n            ]}\r\n            columns={columns}\r\n            data={pages}\r\n            loading={isLoading}\r\n            queryFn={refetch}\r\n        />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { PageHeader, Tabs } from \"antd\";\r\nimport DocsButton from \"components/docsButton\";\r\nimport ProtectEvents from \"./protectEvents\";\r\nimport ProtectConfigs from \"./protectConfigs\";\r\nexport default function Protect() {\r\n    return (\r\n        <PageHeader title=\"PowerShell Protect\" subTitle=\"Audit and block PowerShell scripts.\" extra={[\r\n            <DocsButton url=\"userinterfaces/pages\" />\r\n        ]}>\r\n            <Tabs>\r\n                <Tabs.TabPane key={\"1\"} tab=\"Events\">\r\n                    <ProtectEvents />\r\n                </Tabs.TabPane>\r\n                <Tabs.TabPane key={\"2\"} tab=\"Configurations\">\r\n                    <ProtectConfigs />\r\n                </Tabs.TabPane>\r\n            </Tabs>\r\n        </PageHeader>\r\n\r\n    );\r\n}\r\n"],"sourceRoot":""}