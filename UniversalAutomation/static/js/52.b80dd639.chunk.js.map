{"version":3,"sources":["components/pages/notLicensed.tsx","components/debugging/breakpoints.tsx","components/debugging/debugging.tsx"],"names":["NotLicensed","title","status","extra","icon","onClick","window","location","href","Breakpoints","navigate","useNavigate","useQuery","enabled","refetchOnWindowFocus","breakpoints","data","isLoading","refetch","Continue","breakpoint","a","axios","method","url","processId","runspaceId","type","DebugActionType","columns","dataIndex","key","editable","width","render","value","record","PlayCircleOutlined","BugOutlined","toRelativeUrl","Table","actions","ReloadOutlined","loading","queryFn","TabPane","Tabs","Debugging","licensed","useAppStore","Feature","Automation","subTitle","defaultActiveKey","tab"],"mappings":"gKAAA,yFAIe,SAASA,EAAT,GAAiC,IAAVC,EAAS,EAATA,MACpC,OACE,cAAC,IAAD,CACEA,MAAOA,EACPC,OAAO,UACPC,MACE,cAAC,IAAD,CACEC,KAAM,cAAC,IAAD,IACNC,QAAS,WACPC,OAAOC,SAASC,KACd,gEAJN,6B,4PCAO,SAASC,IACpB,IAAMC,EAAWC,cADiB,EAEgBC,YAC9C,uBACA,CACIC,SAAS,EACTC,sBAAsB,IAJhBC,EAFoB,EAE1BC,KAAmBC,EAFO,EAEPA,UAAWC,EAFJ,EAEIA,QAQhCC,EAAQ,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACPC,IAAM,CACRC,OAAQ,MACRC,IAAI,+BAAD,OAAiCJ,EAAWK,UAA5C,YAAyDL,EAAWM,YACvEV,KAAM,CACFW,KAAMC,IAAgBT,YALjB,OASbD,IATa,2CAAH,sDAYRW,EAAuC,CACzC,CACI5B,MAAO,aACP6B,UAAW,YACXC,IAAK,YACLC,UAAU,GAEd,CACI/B,MAAO,cACP6B,UAAW,aACXC,IAAK,aACLC,UAAU,GAEd,CACIC,MAAO,cACPH,UAAW,UACXE,UAAU,EACVE,OAAQ,SAACC,EAAOC,GAAR,OACJ,eAAC,IAAD,WACI,cAAC,IAAD,CAASnC,MAAM,WAAf,SACI,cAAC,IAAD,CAAQG,KAAM,cAACiC,EAAA,EAAD,IAAwBhC,QAAS,kBAAMc,EAASiB,QAElE,cAAC,IAAD,CAASnC,MAAM,QAAf,SACI,cAAC,IAAD,CAAQG,KAAM,cAACkC,EAAA,EAAD,IAAiBjC,QAAS,kBAAMK,EAAS6B,YAAc,6BAAD,OAA8BH,EAAOX,UAArC,YAAkDW,EAAOV,yBAQjJ,OACI,cAACc,EAAA,QAAD,CACIvC,MAAM,cACNwC,QAAS,CACL,cAAC,IAAD,CAAQrC,KAAM,cAACsC,EAAA,EAAD,IAAoBrC,QAAS,kBAAMa,KAAjD,sBAEJW,QAASA,EACTb,KAAMD,EACN4B,QAAS1B,EACT2B,QAAS1B,I,gCChEb2B,EAAYC,IAAZD,QAEO,SAASE,IAGpB,OAAKC,EAFgBC,cAAbD,UAEME,IAAQC,YAKlB,cAAC,IAAD,CAAYlD,MAAM,YAAYmD,SAAS,8DAA8DjD,MACjG,CACI,cAAC,IAAD,CAAYqB,IAAI,uDAFxB,SAMI,cAAC,IAAD,CAAM6B,iBAAiB,IAAvB,SACI,cAACR,EAAD,CAASS,IAAI,cAAb,SACI,cAAC7C,EAAD,KAD2B,SAXhC,cAAC,UAAD,CAAaR,MAAM","file":"static/js/52.b80dd639.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Result, Button } from \"antd\";\r\nimport { CreditCardOutlined } from \"@ant-design/icons\";\r\n\r\nexport default function NotLicensed({ title }) {\r\n  return (\r\n    <Result\r\n      title={title}\r\n      status=\"warning\"\r\n      extra={\r\n        <Button\r\n          icon={<CreditCardOutlined />}\r\n          onClick={() => {\r\n            window.location.href =\r\n              \"https://ironmansoftware.com/powershell-universal?rel=product\";\r\n          }}\r\n        >\r\n          Buy License\r\n        </Button>\r\n      }\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Breakpoint, CustomColumns, DebugActionType } from \"../../types\";\r\nimport { useQuery } from \"react-query3\";\r\nimport { Button, Space, Tooltip } from \"antd\";\r\nimport Table from \"components/ui/Table\";\r\nimport { BugOutlined, PlayCircleOutlined, ReloadOutlined } from \"@ant-design/icons\";\r\nimport { useNavigate } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { toRelativeUrl } from \"components/utils/utils\";\r\n\r\nexport default function Breakpoints() {\r\n    const navigate = useNavigate();\r\n    const { data: breakpoints, isLoading, refetch } = useQuery<Breakpoint[]>(\r\n        \"/debugger/breakpoint\",\r\n        {\r\n            enabled: false,\r\n            refetchOnWindowFocus: false,\r\n        }\r\n    );\r\n\r\n    const Continue = async (breakpoint: Breakpoint) => {\r\n        await axios({\r\n            method: \"PUT\",\r\n            url: `/api/v1/debugger/breakpoint/${breakpoint.processId}/${breakpoint.runspaceId}`,\r\n            data: {\r\n                type: DebugActionType.Continue\r\n            },\r\n        });\r\n\r\n        refetch();\r\n    }\r\n\r\n    const columns: CustomColumns<Breakpoint>[] = [\r\n        {\r\n            title: \"Process ID\",\r\n            dataIndex: \"processId\",\r\n            key: \"processId\",\r\n            editable: false\r\n        },\r\n        {\r\n            title: \"Runspace ID\",\r\n            dataIndex: \"runspaceId\",\r\n            key: \"runspaceId\",\r\n            editable: false,\r\n        },\r\n        {\r\n            width: \"fit-content\",\r\n            dataIndex: \"actions\",\r\n            editable: false,\r\n            render: (value, record) => (\r\n                <Space>\r\n                    <Tooltip title=\"Continue\">\r\n                        <Button icon={<PlayCircleOutlined />} onClick={() => Continue(record)}></Button>\r\n                    </Tooltip>\r\n                    <Tooltip title=\"Debug\">\r\n                        <Button icon={<BugOutlined />} onClick={() => navigate(toRelativeUrl(`/admin/platform/debugging/${record.processId}/${record.runspaceId}`))}></Button>\r\n                    </Tooltip>\r\n                </Space >\r\n            )\r\n        },\r\n    ];\r\n\r\n\r\n    return (\r\n        <Table\r\n            title=\"Breakpoints\"\r\n            actions={[\r\n                <Button icon={<ReloadOutlined />} onClick={() => refetch()}>Refresh</Button>\r\n            ]}\r\n            columns={columns}\r\n            data={breakpoints}\r\n            loading={isLoading}\r\n            queryFn={refetch}\r\n        />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport { PageHeader, Tabs } from \"antd\";\r\nimport Breakpoints from \"./breakpoints\";\r\nimport useAppStore from \"components/context/app/Hooks\";\r\nimport NotLicensed from \"components/pages/notLicensed\";\r\nimport { Feature } from 'types';\r\nimport DocsButton from \"components/docsButton\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Debugging() {\r\n    const { licensed } = useAppStore();\r\n\r\n    if (!licensed(Feature.Automation)) {\r\n        return <NotLicensed title=\"Debugging is only available for licensed instances.\" />\r\n    }\r\n\r\n    return (\r\n        <PageHeader title=\"Debugging\" subTitle=\"PowerShell script debugging tools for PowerShell Universal.\" extra={\r\n            [\r\n                <DocsButton url=\"development/debugging-scripts#integrated-debugger\" />\r\n            ]\r\n        }>\r\n\r\n            <Tabs defaultActiveKey=\"1\">\r\n                <TabPane tab=\"Breakpoints\" key=\"1\">\r\n                    <Breakpoints />\r\n                </TabPane>\r\n            </Tabs>\r\n\r\n        </PageHeader>\r\n    );\r\n}\r\n"],"sourceRoot":""}