(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[28,113,114,116],{1094:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(12),l=(n(0),n(272)),i=n(415),r=n(3);function u(e){var t=Object(i.a)("/environment"),n=t.data,u=t.isLoading;return Object(r.jsxs)(l.default,Object(a.a)(Object(a.a)({},e),{},{loading:u,children:[Object(r.jsx)(l.default.Option,{value:null,children:"Default"},"default"),null===n||void 0===n?void 0:n.map((function(e){return Object(r.jsx)(l.default.Option,{value:e.name,children:e.name},e.name)}))]}))}},1100:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var a=n(12),l=(n(0),n(272)),i=n(415),r=n(36),u=n(3);function o(e){var t=Object(i.a)("/variable").data,n=null===t||void 0===t?void 0:t.filter((function(e){return"PSCredential"===e.type&&!e.disableRunAsSupport}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(l.default,Object(a.a)(Object(a.a)({},e),{},{children:[Object(u.jsx)(l.default.Option,{value:null,children:"Default"},"default"),null===n||void 0===n?void 0:n.map((function(e){return Object(u.jsx)(l.default.Option,{value:e.name,children:e.name},e.name)}))]})),0===(null===n||void 0===n?void 0:n.length)&&Object(u.jsx)(r.b,{to:"/admin/platform/variables",style:{float:"right",padding:0},children:"Add Run As Credential"})]})}},1101:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(12),l=(n(0),n(272)),i=n(415),r=n(3);function u(e){var t=Object(i.a)("/Computer"),n=t.data,u=t.isLoading;return Object(r.jsx)(l.default,Object(a.a)(Object(a.a)({},e),{},{loading:u,children:null===n||void 0===n?void 0:n.map((function(e){return Object(r.jsx)(l.default.Option,{value:e.name,children:e.name},e.name)}))}))}},1175:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var a=n(12),l=n(27),i=n(74),r=n(0),u=n.n(r),o=n(70),d=n(224),c=n(137),s=n(414),j=n(272),p=n(48),v=n(127),f=n(42),m=n(925),b=n(693),O=n(953),h=n(933),x=n(448),y=n(259),g=n(1100),S=n(1094),T=n(1101),w=n(151),P=n(3);function V(e){var t=e.parameters,n=e.form,l=e.showGoTo,i=e.script,r=null===t||void 0===t?void 0:t.filter((function(e){return 3!==e.displayType})).map((function(e){return Object(f.a)({},e.name,e.defaultValue)}));return Object(P.jsx)(w.a.Consumer,{children:function(e){var u;return Object(P.jsxs)(m.a,{form:n,layout:"horizontal",name:"dynamic_parameters_form",labelCol:{span:6},wrapperCol:{span:18},initialValues:Object(a.a)(Object(a.a)({},r),{},{gotoJob:!0,environment:"Default"}),children:[null===t||void 0===t?void 0:t.map((function(e){var t,n,l={};return 3!==e.displayType&&e.defaultValue&&(l.initialValue=e.defaultValue),Object(P.jsx)(m.a.Item,Object(a.a)(Object(a.a)({name:e.name,label:e.displayName||e.name,required:e.required,tooltip:e.helpText,rules:[{required:e.required,message:"".concat(e.name," can't be empty.")}]},l),{},{children:0===e.displayType?Object(P.jsx)(b.default,{}):1===e.displayType?Object(P.jsx)(O.default,{defaultValue:0}):2===e.displayType?Object(P.jsx)(h.default,{}):3===e.displayType?Object(P.jsx)(x.a,{showTime:!0,format:"DD-MM-YYYY HH:mm:ss"}):4===e.displayType?Object(P.jsx)(j.default,{children:null===(t=e.validValues)||void 0===t?void 0:t.map((function(e){return Object(P.jsx)(j.default.Option,{value:e,children:e},e)}))}):5===e.displayType?Object(P.jsx)(g.default,{}):6===e.displayType?Object(P.jsx)(j.default,{mode:"tags",tokenSeparators:[",",";"],children:null===(n=e.validValues)||void 0===n?void 0:n.map((function(e){return Object(P.jsx)(j.default.Option,{value:e,children:e},e)}))}):null}),e.id)})),!i.environment&&Object(P.jsx)(m.a.Item,{name:"environment",label:"Environment",children:Object(P.jsx)(S.default,{})}),!i.credential&&!(null===(u=e.settings)||void 0===u?void 0:u.hideRunAs)&&Object(P.jsx)(m.a.Item,{name:"credential",label:"Run As",children:Object(P.jsx)(g.default,{})}),Object(P.jsx)(m.a.Item,{name:"computer",label:"Run On",children:Object(P.jsx)(T.default,{})}),l&&Object(P.jsx)(m.a.Item,{name:"gotoJob",tooltip:"Automatically navigate to job page when done.",valuePropName:"checked",label:"Go To Job",children:Object(P.jsx)(y.default,{})})]})}})}var C=n(630);function k(e){var t,n,f,m,b=e.script,O=Object(i.a)(e,["script"]),h=null===b||void 0===b||null===(t=b.scriptParameters)||void 0===t?void 0:t.map((function(e){return e.parameterSet})).filter((function(e){return"Default"!==e})).filter((function(e,t,n){return n.indexOf(e)===t})),x=u.a.useState((null===b||void 0===b?void 0:b.defaultParameterSet)||h&&h[0]),y=Object(l.a)(x,2),g=y[0],S=y[1],T=Object(v.e)(),w=T.form,k=T.onOk,A=function(e){var t=null!==w.getFieldValue(null===e||void 0===e?void 0:e.name)?w.getFieldValue(null===e||void 0===e?void 0:e.name):null===e||void 0===e?void 0:e.defaultValue;return"System.String[]"===(null===e||void 0===e?void 0:e.type)?JSON.stringify(t):t};return Object(P.jsxs)(r.Fragment,{children:[Object(P.jsx)(v.d,{requiredRoles:["Administrator","Operator","Execute"],requiredAccessControls:p.b.Execute,accessControls:null===b||void 0===b?void 0:b.accessControls,allowedWithOneWayGitSync:!0,children:Object(P.jsx)(o.a,Object(a.a)({type:"primary",icon:Object(P.jsx)(C.a,{})},O))}),Object(P.jsxs)(v.b,{title:"Run ".concat(null===b||void 0===b?void 0:b.fullPath),onClickOk:function(){var e;k("/script/path/".concat(null===b||void 0===b?void 0:b.fullPath),"create",{jobParameters:null===b||void 0===b||null===(e=b.scriptParameters)||void 0===e?void 0:e.filter((function(e){return e.parameterSet===g||"Default"===e.parameterSet})).map((function(e){return{name:null===e||void 0===e?void 0:e.name,type:e.type,value:A(e),displayType:e.displayType}}))})},width:0!==(null===b||void 0===b||null===(n=b.scriptParameters)||void 0===n?void 0:n.length)?1e3:500,children:[Object(P.jsxs)(d.a,{style:{marginBottom:"10px"},children:[Object(P.jsx)(c.a,{span:6}),Object(P.jsxs)(c.a,{span:18,children:[null===b||void 0===b?void 0:b.longDescription,null===b||void 0===b||null===(f=b.links)||void 0===f?void 0:f.map((function(e){return Object(P.jsx)("p",{children:Object(P.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:e})})}))]})]}),(null===h||void 0===h?void 0:h.length)>1&&Object(P.jsxs)(d.a,{style:{marginBottom:"20px"},children:[Object(P.jsx)(c.a,{span:6,style:{textAlign:"right",paddingRight:"10px"},children:Object(P.jsx)(s.a,{children:"Parameter Set:"})}),Object(P.jsx)(c.a,{span:18,children:Object(P.jsx)(j.default,{id:"parameterSet",onChange:function(e){return S(e.toString())},value:g,style:{width:"100%"},defaultValue:null===b||void 0===b?void 0:b.defaultParameterSet,children:null===h||void 0===h?void 0:h.map((function(e){return Object(P.jsx)(j.default.Option,{value:e,children:e},e)}))})})]}),Object(P.jsx)(V,{parameters:null===b||void 0===b||null===(m=b.scriptParameters)||void 0===m?void 0:m.filter((function(e){return 0===(null===h||void 0===h?void 0:h.length)||e.parameterSet===g||"Default"===e.parameterSet})),form:w,showGoTo:!0,script:b})]})]})}}}]);
//# sourceMappingURL=28.f5b576f7.chunk.js.map