(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[21,28,113,114,116],{1094:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var l=n(12),i=(n(0),n(272)),a=n(415),r=n(3);function o(e){var t=Object(a.a)("/environment"),n=t.data,o=t.isLoading;return Object(r.jsxs)(i.default,Object(l.a)(Object(l.a)({},e),{},{loading:o,children:[Object(r.jsx)(i.default.Option,{value:null,children:"Default"},"default"),null===n||void 0===n?void 0:n.map((function(e){return Object(r.jsx)(i.default.Option,{value:e.name,children:e.name},e.name)}))]}))}},1100:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var l=n(12),i=(n(0),n(272)),a=n(415),r=n(36),o=n(3);function c(e){var t=Object(a.a)("/variable").data,n=null===t||void 0===t?void 0:t.filter((function(e){return"PSCredential"===e.type&&!e.disableRunAsSupport}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(i.default,Object(l.a)(Object(l.a)({},e),{},{children:[Object(o.jsx)(i.default.Option,{value:null,children:"Default"},"default"),null===n||void 0===n?void 0:n.map((function(e){return Object(o.jsx)(i.default.Option,{value:e.name,children:e.name},e.name)}))]})),0===(null===n||void 0===n?void 0:n.length)&&Object(o.jsx)(r.b,{to:"/admin/platform/variables",style:{float:"right",padding:0},children:"Add Run As Credential"})]})}},1101:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var l=n(12),i=(n(0),n(272)),a=n(415),r=n(3);function o(e){var t=Object(a.a)("/Computer"),n=t.data,o=t.isLoading;return Object(r.jsx)(i.default,Object(l.a)(Object(l.a)({},e),{},{loading:o,children:null===n||void 0===n?void 0:n.map((function(e){return Object(r.jsx)(i.default.Option,{value:e.name,children:e.name},e.name)}))}))}},1175:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var l=n(12),i=n(27),a=n(74),r=n(0),o=n.n(r),c=n(70),d=n(224),u=n(137),s=n(414),j=n(272),v=n(48),f=n(127),p=n(42),b=n(925),m=n(693),O=n(953),h=n(933),x=n(448),y=n(259),g=n(1100),S=n(1094),P=n(1101),w=n(151),C=n(3);function T(e){var t=e.parameters,n=e.form,i=e.showGoTo,a=e.script,r=null===t||void 0===t?void 0:t.filter((function(e){return 3!==e.displayType})).map((function(e){return Object(p.a)({},e.name,e.defaultValue)}));return Object(C.jsx)(w.a.Consumer,{children:function(e){var o;return Object(C.jsxs)(b.a,{form:n,layout:"horizontal",name:"dynamic_parameters_form",labelCol:{span:6},wrapperCol:{span:18},initialValues:Object(l.a)(Object(l.a)({},r),{},{gotoJob:!0,environment:"Default"}),children:[null===t||void 0===t?void 0:t.map((function(e){var t,n,i={};return 3!==e.displayType&&e.defaultValue&&(i.initialValue=e.defaultValue),Object(C.jsx)(b.a.Item,Object(l.a)(Object(l.a)({name:e.name,label:e.displayName||e.name,required:e.required,tooltip:e.helpText,rules:[{required:e.required,message:"".concat(e.name," can't be empty.")}]},i),{},{children:0===e.displayType?Object(C.jsx)(m.default,{}):1===e.displayType?Object(C.jsx)(O.default,{defaultValue:0}):2===e.displayType?Object(C.jsx)(h.default,{}):3===e.displayType?Object(C.jsx)(x.a,{showTime:!0,format:"DD-MM-YYYY HH:mm:ss"}):4===e.displayType?Object(C.jsx)(j.default,{children:null===(t=e.validValues)||void 0===t?void 0:t.map((function(e){return Object(C.jsx)(j.default.Option,{value:e,children:e},e)}))}):5===e.displayType?Object(C.jsx)(g.default,{}):6===e.displayType?Object(C.jsx)(j.default,{mode:"tags",tokenSeparators:[",",";"],children:null===(n=e.validValues)||void 0===n?void 0:n.map((function(e){return Object(C.jsx)(j.default.Option,{value:e,children:e},e)}))}):null}),e.id)})),!a.environment&&Object(C.jsx)(b.a.Item,{name:"environment",label:"Environment",children:Object(C.jsx)(S.default,{})}),!a.credential&&!(null===(o=e.settings)||void 0===o?void 0:o.hideRunAs)&&Object(C.jsx)(b.a.Item,{name:"credential",label:"Run As",children:Object(C.jsx)(g.default,{})}),Object(C.jsx)(b.a.Item,{name:"computer",label:"Run On",children:Object(C.jsx)(P.default,{})}),i&&Object(C.jsx)(b.a.Item,{name:"gotoJob",tooltip:"Automatically navigate to job page when done.",valuePropName:"checked",label:"Go To Job",children:Object(C.jsx)(y.default,{})})]})}})}var k=n(630);function I(e){var t,n,p,b,m=e.script,O=Object(a.a)(e,["script"]),h=null===m||void 0===m||null===(t=m.scriptParameters)||void 0===t?void 0:t.map((function(e){return e.parameterSet})).filter((function(e){return"Default"!==e})).filter((function(e,t,n){return n.indexOf(e)===t})),x=o.a.useState((null===m||void 0===m?void 0:m.defaultParameterSet)||h&&h[0]),y=Object(i.a)(x,2),g=y[0],S=y[1],P=Object(f.e)(),w=P.form,I=P.onOk,D=function(e){var t=null!==w.getFieldValue(null===e||void 0===e?void 0:e.name)?w.getFieldValue(null===e||void 0===e?void 0:e.name):null===e||void 0===e?void 0:e.defaultValue;return"System.String[]"===(null===e||void 0===e?void 0:e.type)?JSON.stringify(t):t};return Object(C.jsxs)(r.Fragment,{children:[Object(C.jsx)(f.d,{requiredRoles:["Administrator","Operator","Execute"],requiredAccessControls:v.b.Execute,accessControls:null===m||void 0===m?void 0:m.accessControls,allowedWithOneWayGitSync:!0,children:Object(C.jsx)(c.a,Object(l.a)({type:"primary",icon:Object(C.jsx)(k.a,{})},O))}),Object(C.jsxs)(f.b,{title:"Run ".concat(null===m||void 0===m?void 0:m.fullPath),onClickOk:function(){var e;I("/script/path/".concat(null===m||void 0===m?void 0:m.fullPath),"create",{jobParameters:null===m||void 0===m||null===(e=m.scriptParameters)||void 0===e?void 0:e.filter((function(e){return e.parameterSet===g||"Default"===e.parameterSet})).map((function(e){return{name:null===e||void 0===e?void 0:e.name,type:e.type,value:D(e),displayType:e.displayType}}))})},width:0!==(null===m||void 0===m||null===(n=m.scriptParameters)||void 0===n?void 0:n.length)?1e3:500,children:[Object(C.jsxs)(d.a,{style:{marginBottom:"10px"},children:[Object(C.jsx)(u.a,{span:6}),Object(C.jsxs)(u.a,{span:18,children:[null===m||void 0===m?void 0:m.longDescription,null===m||void 0===m||null===(p=m.links)||void 0===p?void 0:p.map((function(e){return Object(C.jsx)("p",{children:Object(C.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:e})})}))]})]}),(null===h||void 0===h?void 0:h.length)>1&&Object(C.jsxs)(d.a,{style:{marginBottom:"20px"},children:[Object(C.jsx)(u.a,{span:6,style:{textAlign:"right",paddingRight:"10px"},children:Object(C.jsx)(s.a,{children:"Parameter Set:"})}),Object(C.jsx)(u.a,{span:18,children:Object(C.jsx)(j.default,{id:"parameterSet",onChange:function(e){return S(e.toString())},value:g,style:{width:"100%"},defaultValue:null===m||void 0===m?void 0:m.defaultParameterSet,children:null===h||void 0===h?void 0:h.map((function(e){return Object(C.jsx)(j.default.Option,{value:e,children:e},e)}))})})]}),Object(C.jsx)(T,{parameters:null===m||void 0===m||null===(b=m.scriptParameters)||void 0===b?void 0:b.filter((function(e){return 0===(null===h||void 0===h?void 0:h.length)||e.parameterSet===g||"Default"===e.parameterSet})),form:w,showGoTo:!0,script:m})]})]})}},1398:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var l=n(68),i=n(12),a=n(27),r=n(0),o=n.n(r),c=n(127),d=n(415),u=n(692),s=n(272),j=n(696),v=n(452),f=n(92),p=n(954),b=n(48),m=n(72),O=n.n(m),h=n(464),x=n.n(h),y=n(302),g=n.n(y),S=n(1175),P=n(630),w=n(608),C=n(111),T=n(1233),k=n(456),I=n(3),D=o.a.lazy((function(){return Promise.resolve().then(n.bind(null,453))})),V=o.a.lazy((function(){return n.e(2).then(n.bind(null,989))})),A=o.a.lazy((function(){return n.e(91).then(n.bind(null,1423))})),z=o.a.lazy((function(){return n.e(103).then(n.bind(null,1424))})),R=o.a.lazy((function(){return Promise.resolve().then(n.bind(null,455))})),W=o.a.lazy((function(){return n.e(3).then(n.bind(null,1017))})),G=u.a.DirectoryTree,q=s.default.Option;function E(){var e=localStorage.getItem("script-view"),t=o.a.useState([]),n=Object(a.a)(t,2),r=n[0],u=n[1],m=o.a.useState(""),O=Object(a.a)(m,2),h=O[0],x=O[1],y=o.a.useState(e||"folder"),g=Object(a.a)(y,2),E=g[0],J=g[1],F=Object(C.a)().settings,L=Object(d.a)("/folder"),N=L.data,Y=L.isLoading,_=Object(d.a)("/script",{select:function(e){return e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{environment:"Default"===e.environment?null:e.environment})}))}}),B=_.data,H=_.isLoading,M=(Y?function(){return[]}:function(){var e={title:"Repository",key:"",children:[]};return N.filter((function(e){return e.type===b.f.Script})).forEach((function(t){t.path.split(null===F||void 0===F?void 0:F.pathDivider).reduce((function(e,n,l,i){return e[n]||(e[n]={children:[]},e.children.push({title:n,key:t.path,children:e[n].children})),e[n]}),e)})),[e]})(),K=[{key:"name",title:"Name",dataIndex:"name"},{key:"fullPath",title:"Path",dataIndex:"fullPath",responsive:["xxl","xl"]},{key:"description",title:"Description",dataIndex:"description"},{key:"environment",title:"Environment",dataIndex:"environment",width:"min-content",align:"center",render:function(e,t){return null===(null===t||void 0===t?void 0:t.environment)?"Default":null===t||void 0===t?void 0:t.environment},responsive:["xxl","xl"]},{key:"tags",title:"Tags",dataIndex:"tags",editable:!1,render:function(e,t){var n,i;return(null===(n=t.tag)||void 0===n?void 0:n.length)>0?null===t||void 0===t||null===(i=t.tag)||void 0===i?void 0:i.map((function(e){return Object(I.jsx)(j.a,{color:null===e||void 0===e?void 0:e.color,style:{cursor:"pointer"},onClick:function(){r.find((function(t){return t.name===e.name}))||u([].concat(Object(l.a)(r),[e]))},children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.name)})):null},responsive:["xxl","xl"]},{width:"fit-content",dataIndex:"actions",render:function(e,t){var n;return Object(I.jsxs)(v.b,{children:[Object(I.jsx)(c.a,{children:Object(I.jsx)(f.a,{title:"Invoke script",children:Object(I.jsx)(S.default,{accessControls:null===t||void 0===t?void 0:t.accessControls,script:t,icon:Object(I.jsx)(P.a,{}),type:"text"})})},t.id+"run"),Object(I.jsx)(c.a,{children:Object(I.jsx)(V,{accessControls:null===t||void 0===t?void 0:t.accessControls,record:t,allowedWithOneWayGitSync:!1})},t.id+"edit"),Object(I.jsx)(W,{allowedWithOneWayGitSync:!1,accessControls:null===t||void 0===t?void 0:t.accessControls,to:null===t||void 0===t?void 0:t.fullPath}),Object(I.jsx)(R,{allowedWithOneWayGitSync:!1,resource:Object(i.a)(Object(i.a)({},t),{},{resourceInfo:Object(i.a)(Object(i.a)({},null===t||void 0===t?void 0:t.resourceInfo),{},{self:"".concat(null===t||void 0===t||null===(n=t.resourceInfo)||void 0===n?void 0:n.parent,"/").concat(null===t||void 0===t?void 0:t.id)})})})]})}}],Q=Object(I.jsx)(D,{title:"Scripts",actions:[r.map((function(e){return Object(I.jsx)(j.a,{color:e.color,closable:!0,onClose:function(){u(r.filter((function(t){return t.name!==e.name})))},children:e.name})})),Object(I.jsx)(c.a,{children:Object(I.jsx)(A,{parentPath:h,type:b.f.Script})},"folder-modal"),Object(I.jsx)(c.a,{children:Object(I.jsx)(z,{folderPath:h})},"script-modal"),Object(I.jsxs)(s.default,{value:E,onChange:function(e){localStorage.setItem("script-view",e),J(e)},suffixIcon:Object(I.jsx)(w.a,{}),children:[Object(I.jsx)(q,{value:"folder",children:"Folder"}),Object(I.jsx)(q,{value:"list",children:"List"})]},"view-select")],data:function(){var e=null===B||void 0===B?void 0:B.filter((function(e){var t;return 0===r.length||e.tag&&(null===(t=e.tag)||void 0===t?void 0:t.find((function(e){return r.find((function(t){return t.name===e.name}))})))}));return null===e||void 0===e?void 0:e.filter((function(e){return"list"===E||""!==h&&e.fullPath.startsWith(h)||""===h&&-1===e.fullPath.indexOf(null===F||void 0===F?void 0:F.pathDivider)}))}(),columns:K,loading:H});return Object(I.jsx)(p.a,{title:"Scripts",subTitle:"PowerShell scripts that can be manually executed or scheduled.",extra:[Object(I.jsx)(k.a,{url:"automation/scripts"})],style:{height:"100%"},children:"folder"===E?Object(I.jsxs)(T.a,{sizes:[25,75],direction:"horizontal",gutterAlign:"center",style:{display:"flex",flexDirection:"row",height:"100%"},children:[Object(I.jsx)("div",{style:{height:"100%"},children:Object(I.jsx)(G,{defaultExpandAll:!0,treeData:M,onSelect:function(e){return x(e[0].toString())}})}),Object(I.jsx)("div",{children:Q})]}):Q})}O.a.extend(x.a),O.a.extend(g.a)}}]);
//# sourceMappingURL=21.ac40ee2e.chunk.js.map