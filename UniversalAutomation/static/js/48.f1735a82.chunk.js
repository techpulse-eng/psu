(this["webpackJsonppowershelluniversal.adminconsole"]=this["webpackJsonppowershelluniversal.adminconsole"]||[]).push([[48,8],{1003:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return o}));t(0);var n=t(928),a=t(70),c=t(593),i=t(3);function o(e){var r=e.title;return Object(i.jsx)(n.a,{title:r,status:"warning",extra:Object(i.jsx)(a.a,{icon:Object(i.jsx)(c.a,{}),onClick:function(){window.location.href="https://ironmansoftware.com/powershell-universal?rel=product"},children:"Buy License"})})}},1580:function(e,r,t){"use strict";t.r(r);var n=t(49),a=t.n(n),c=t(84),i=t(0),o=t.n(i),u=t(111),s=t(48),l=t(1003),d=t(43),f=t(415),b=t(930),h=t(1164),p=t(1165),w=t(1166),v=t(117),m=t.n(v),y=t(450),j=t(1167),k=t(3),O=new p.FitAddon,x=new w.SearchAddon,g=new h.WebLinksAddon;function C(e,r){return K.apply(this,arguments)}function K(){return(K=Object(c.a)(a.a.mark((function e(r,t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"post",url:"/api/v1/dashboard/".concat(t,"/terminal"),data:{command:r}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.default=function(){var e=o.a.useRef(null),r=o.a.useRef(""),t=Object(u.a)().licensed,n=Object(d.i)().id,h=Object(f.a)("/dashboard/".concat(n),{enabled:!!n&&t(s.e.Dashboard),select:function(e){return null===e||void 0===e?void 0:e.status},refetchOnMount:!1,refetchOnWindowFocus:!1}).data,p=Object(b.a)(function(){var e=Object(c.a)(a.a.mark((function e(r){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.cmd,e.next=3,C(n,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),{onError:function(e,r,t){y.b.error("Command faild; ".concat(null===e||void 0===e?void 0:e.message))}}).mutateAsync;return Object(i.useEffect)((function(){if(t(s.e.Dashboard)){var a=e.current;if(1!==h)e.current.terminal.writeln("Dashboard not running.");else{e.current.terminal.writeln("Connected to the Universal Dashboard Admin Terminal"),e.current.terminal.write("PS> ");var c=e.current.terminal;c.attachCustomKeyEventHandler((function(e){if("Home"===e.code&&"keydown"===e.type)return!1;if(e.ctrlKey&&"KeyC"===e.code&&"keydown"===e.type){var r=c.getSelection();if(r)return navigator.clipboard.writeText(r),!1}return e.ctrlKey&&"KeyV"===e.code&&"keydown"===e.type&&navigator.clipboard.readText().then((function(e){c.write(e)})),!0})),e.current.terminal.onKey((function(t){var a=e.current.terminal;if("\r"===t.key){if("cls"===r.current.toLocaleLowerCase()||"clear-host"===r.current.toLocaleLowerCase()){a.clear();for(var c=0;c<4+r.current.length;c++)a.write("\b \b");return a.write("PS> "),void(r.current="")}p({id:parseInt(n),cmd:r.current}).then((function(e){a.writeln(e),a.write("PS> "),r.current=""}))}if("\x1b"!==t.key){if("\x7f"===t.key&&a.buffer.active.cursorX>4)return r.current.length>0&&(r.current=r.current.substr(0,r.current.length-1)),void a.write("\b \b");e.current.terminal.write(t.key),r.current=r.current+t.key}else if(r.current.length>0){for(var i=0;i<r.current.length;i++)a.write("\b \b");r.current=""}}))}return function(){return a.terminal.dispose()}}}),[n,h]),t(s.e.Dashboard)?Object(k.jsx)(j.a,{ref:e,addons:[x,O,g],options:{cols:80,cursorBlink:!0}}):Object(k.jsx)(l.default,{title:"Console is only available for licensed instances."})}}}]);
//# sourceMappingURL=48.f1735a82.chunk.js.map