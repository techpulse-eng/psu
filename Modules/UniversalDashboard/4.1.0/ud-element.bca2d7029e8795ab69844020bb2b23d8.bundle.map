{"version":3,"file":"ud-element.xxxxxxxxxxxxxxxxxxxx.bundle.js","mappings":"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","sources":["webpack://materialui/./app/ud-element.jsx"],"sourcesContent":["import React from 'react';\r\nimport renderComponent from './services/render-service.jsx';\r\nimport PubSub from 'pubsub-js';\r\nimport { fetchGet, fetchPost } from './services/fetch-service.jsx';\r\nimport { getApiPath } from './config.jsx';\r\nimport ReactInterval from 'react-interval';\r\nimport LazyElement from './basics/lazy-element.jsx';\r\n\r\nexport default class UdElement extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            hidden: false\r\n        }\r\n    }\r\n\r\n    isGuid(str) {\r\n        if (str == null) { return false }\r\n\r\n        if (str[0] === \"{\") {\r\n            str = str.substring(1, str.length - 1);\r\n        }\r\n        var regexGuid = /^(\\{){0,1}[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}(\\}){0,1}$/gi;\r\n        var regexGuid = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n        return regexGuid.test(str);\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (!this.isGuid(this.props.id)) {\r\n            this.pubSubToken = PubSub.subscribe(this.props.id, this.onIncomingEvent.bind(this));\r\n        }\r\n    }\r\n\r\n    onIncomingEvent(eventName, event) {\r\n        if (event.type === \"removeElement\") {\r\n            if (this.props.tag == 'input') {\r\n                let inputComp = $(`#${this.props.id}`)\r\n                inputComp[0].parentElement.remove()\r\n            }\r\n            this.setState({\r\n                hidden: true\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.state.hidden && this.pubSubToken != null) {\r\n            PubSub.unsubscribe(this.pubSubToken);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.pubSubToken != null) {\r\n            PubSub.unsubscribe(this.pubSubToken);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hidden) {\r\n            return null;\r\n        }\r\n        return <UDElementContent key={this.props.id} {...this.props} />\r\n    }\r\n}\r\n\r\nclass UDElementContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            content: props.content,\r\n            tag: props.tag,\r\n            attributes: props.attributes,\r\n            events: props.events,\r\n            loading: true,\r\n            hasError: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n\r\n    loadData() {\r\n        fetchGet(\"/api/internal/component/element/\" + this.props.id, function (data) {\r\n            if (data.error) {\r\n                this.setState({\r\n                    hasError: true,\r\n                    errorMessage: data.error.message\r\n                })\r\n                return;\r\n            }\r\n\r\n            this.setState({\r\n                content: data,\r\n                loading: false\r\n            });\r\n        }.bind(this));\r\n    }\r\n\r\n    componentDidCatch(error, info) {\r\n        this.setState({ hasError: true, errorMessage: error.message });\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.pubSubToken = PubSub.subscribe(this.props.id, this.onIncomingEvent.bind(this));\r\n        if (this.props.hasCallback) {\r\n            this.loadData();\r\n        }\r\n        else {\r\n            this.setState({\r\n                loading: false\r\n            })\r\n        }\r\n    }\r\n\r\n    onTextboxChanged(e) {\r\n        var val = e.target.value;\r\n        this.state.attributes.value = val;\r\n\r\n        this.setState({\r\n            attributes: this.state.attributes\r\n        });\r\n    }\r\n\r\n    onCheckboxChanged(e) {\r\n        var val = e.target.value;\r\n        val = e.target.checked;\r\n        this.state.attributes.checked = val;\r\n\r\n        this.setState({\r\n            attributes: this.state.attributes\r\n        });\r\n\r\n        for (var i = 0; i < this.state.events.length; i++) {\r\n            if (this.state.events[i].event === 'onChange') {\r\n\r\n                var event = this.state.events[i];\r\n\r\n                PubSub.publish('element-event', {\r\n                    type: \"clientEvent\",\r\n                    eventId: event.id,\r\n                    eventName: 'onChange',\r\n                    eventData: val\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (!this.props.preventUnregister) {\r\n            if (this.state.events != null) {\r\n                for (var i = 0; i < this.state.events.length; i++) {\r\n                    PubSub.publish('element-event', {\r\n                        type: \"unregisterEvent\",\r\n                        eventId: this.state.events[i].id\r\n                    });\r\n                }\r\n            }\r\n\r\n            if (this.props.hasCallback) {\r\n                PubSub.publish('element-event', {\r\n                    type: \"unregisterEvent\",\r\n                    eventId: this.props.id\r\n                });\r\n            }\r\n        }\r\n\r\n        PubSub.unsubscribe(this.pubSubToken);\r\n    }\r\n\r\n    onIncomingEvent(eventName, event) {\r\n        if (event.type === \"setState\") {\r\n            this.setState(event.state);\r\n        }\r\n        else if (event.type === \"requestState\") {\r\n            fetchPost(`/api/internal/component/element/sessionState/${event.requestId}`, this.state);\r\n        } else if (event.type === \"removeElement\") {\r\n\r\n            this.setState({\r\n                hidden: true\r\n            })\r\n        } else if (event.type === \"addElement\") {\r\n\r\n            var content = this.state.content;\r\n            if (content == null) {\r\n                content = []\r\n            }\r\n\r\n            content = content.concat(event.elements);\r\n\r\n            this.setState({\r\n                content\r\n            })\r\n        } else if (event.type === \"clearElement\") {\r\n            this.setState({\r\n                content: null\r\n            })\r\n        } else if (event.type === \"syncElement\") {\r\n            this.loadData();\r\n        }\r\n    }\r\n\r\n    onUserEvent(event, e) {\r\n        var eventName = null;\r\n        var val = null;\r\n        if (this.state.tag === 'select') {\r\n\r\n            val = new Array();\r\n\r\n            if (this.refs.element.selectedOptions) {\r\n                for (var item in this.refs.element.selectedOptions) {\r\n                    if (isNaN(item)) continue;\r\n                    var value = this.refs.element.selectedOptions[item].value;\r\n                    val.push(value);\r\n                }\r\n            }\r\n            else {\r\n                val.push(this.refs.element.value);\r\n            }\r\n\r\n            if (val.length === 1) {\r\n                val = val[0]\r\n            }\r\n            else {\r\n                val = JSON.stringify(val);\r\n            }\r\n\r\n            for (var i = 0; i < this.state.events.length; i++) {\r\n                if (this.state.events[i].event === 'onChange') {\r\n                    event = this.state.events[i];\r\n                }\r\n            }\r\n            eventName = 'onChange'\r\n        }\r\n        else {\r\n            eventName = event.event;\r\n\r\n            if (eventName === \"onKeyPress\") {\r\n                PubSub.publish('element-event', {\r\n                    type: \"clientEvent\",\r\n                    eventId: event.id,\r\n                    eventName: eventName,\r\n                    eventData: JSON.stringify({\r\n                        key: e.key,\r\n                        keyCode: e.keyCode\r\n                    })\r\n                });\r\n                return;\r\n            }\r\n\r\n            val = e.target.value;\r\n            if (val != null && val.checked != null) {\r\n                val = e.target.checked;\r\n            }\r\n        }\r\n\r\n        this.state.attributes.value = val;\r\n        this.setState(this.state);\r\n\r\n        PubSub.publish('element-event', {\r\n            type: \"clientEvent\",\r\n            eventId: event.id,\r\n            eventName: eventName,\r\n            eventData: val\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hidden) {\r\n            return null;\r\n        }\r\n\r\n        if (this.state.hasError) {\r\n            return <LazyElement component={{\r\n                type: 'error',\r\n                message: this.state.errorMessage\r\n            }} />\r\n        }\r\n\r\n        if (this.props.error) {\r\n            return <LazyElement component={{\r\n                type: 'error',\r\n                message: this.state.errorMessage\r\n            }} />\r\n        }\r\n\r\n        if (this.state.loading) {\r\n            return <div></div>\r\n        }\r\n\r\n        if (this.props.js) {\r\n            return renderComponent({\r\n                type: this.props.componentName,\r\n                ...this.props.props\r\n            }, this.props.history)\r\n        }\r\n\r\n        var children = null;\r\n\r\n        if (this.state.content && this.state.content.map) {\r\n            if (this.state.content.length > 0) {\r\n                children = this.state.content.map(function (x) {\r\n                    if (x.type != null) {\r\n                        return renderComponent(x, this.props.history);\r\n                    }\r\n                    return x;\r\n                }.bind(this));\r\n            }\r\n        }\r\n        else if (this.state.content) {\r\n            children = this.state.content;\r\n        }\r\n\r\n        var attributes = this.state.attributes;\r\n\r\n        if (attributes == null) {\r\n            attributes = {}\r\n        }\r\n\r\n        if (attributes.id == null) {\r\n            attributes.id = this.props.id;\r\n        }\r\n\r\n        if (this.state.events != null && this.state.events.map) {\r\n            this.state.events.map(function (event) {\r\n                attributes[event.event] = function (e) {\r\n                    this.onUserEvent(event, e);\r\n                }.bind(this);\r\n                return null;\r\n            }.bind(this));\r\n        }\r\n\r\n        if (this.state.tag === \"input\") {\r\n            if (attributes.type === \"text\" || attributes.type === \"password\") {\r\n                attributes.onChange = this.onTextboxChanged.bind(this);\r\n            }\r\n\r\n            if (attributes.type === \"checkbox\") {\r\n                attributes.onChange = this.onCheckboxChanged.bind(this);\r\n            }\r\n        }\r\n\r\n        if (this.state.tag === \"textarea\") {\r\n            attributes.onChange = this.onTextboxChanged.bind(this);\r\n        }\r\n\r\n        attributes.ref = 'element';\r\n        attributes.key = this.props.id;\r\n\r\n        this.element = React.createElement(this.state.tag, attributes, children);\r\n\r\n        return [this.element,\r\n        <ReactInterval timeout={this.props.refreshInterval * 1000} enabled={this.props.autoRefresh} callback={this.loadData.bind(this)} />];\r\n    }\r\n}\r\n"],"names":["React","renderComponent","PubSub","fetchGet","fetchPost","getApiPath","ReactInterval","LazyElement","UdElement","state","hidden","str","substring","length","regexGuid","test","isGuid","props","id","pubSubToken","subscribe","onIncomingEvent","bind","eventName","event","type","tag","inputComp","$","parentElement","remove","setState","unsubscribe","Component","UDElementContent","content","attributes","events","loading","hasError","errorMessage","data","error","message","hasCallback","loadData","e","val","target","value","i","checked","publish","eventId","eventData","preventUnregister","requestId","concat","elements","Array","refs","element","selectedOptions","item","isNaN","push","JSON","stringify","key","keyCode","js","componentName","history","children","map","x","onUserEvent","onChange","onTextboxChanged","onCheckboxChanged","ref","createElement","refreshInterval","autoRefresh"],"sourceRoot":""}