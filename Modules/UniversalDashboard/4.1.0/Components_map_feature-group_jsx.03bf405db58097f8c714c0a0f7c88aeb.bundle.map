{"version":3,"file":"Components_map_feature-group_jsx.xxxxxxxxxxxxxxxxxxxx.bundle.js","mappings":"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","sources":["webpack://materialui/./Components/map/feature-group.jsx","webpack://materialui/./Components/map/popup.jsx","webpack://materialui/./Components/map/utils.jsx","webpack://materialui/./node_modules/fast-deep-equal/index.js","webpack://materialui/./node_modules/react-leaflet/es/FeatureGroup.js","webpack://materialui/./node_modules/react-leaflet/es/Path.js","webpack://materialui/./node_modules/react-leaflet/es/utils/pick.js"],"sourcesContent":["import React from 'react';\r\nimport { FeatureGroup } from 'react-leaflet';\r\nimport UDPopup from './popup';\r\nimport { isGuid } from './utils';\r\n\r\nexport default class UDFeatureGroup extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            content: props.content\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        if (!isGuid(this.props.id)) {\r\n            this.pubSubToken = UniversalDashboard.subscribe(this.props.id, this.onIncomingEvent.bind(this));\r\n        }\r\n    }\r\n\r\n    onRemoveChild(id) {\r\n        var content = this.state.content;\r\n        if (!Array.isArray(content)) {\r\n            content = [content];\r\n        }\r\n\r\n        content = content.filter(x => x.id !== id);\r\n\r\n        this.setState({\r\n            content\r\n        })\r\n    }\r\n    \r\n    onIncomingEvent(eventName, event) {\r\n        if (event.type === \"removeElement\") {\r\n            this.props.onRemove(event.componentId);\r\n        }\r\n\r\n        if (event.type === \"addElement\") {\r\n            var content = this.state.content;\r\n            if (!Array.isArray(content)) {\r\n                content = [content];\r\n            }\r\n\r\n            content = content.concat(event.elements);\r\n\r\n            this.setState({\r\n                content\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.onReportBounds && this.featureGroup && this.featureGroup.leafletElement) {\r\n            try {\r\n                this.props.onReportBounds(this.featureGroup.leafletElement.getBounds());\r\n            }\r\n            catch {}\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        var popup = null;\r\n        if (this.props.popup) {\r\n            popup = <UDPopup {...this.props.popup} />\r\n        }\r\n\r\n        var content = null;\r\n        if (Array.isArray(this.state.content)) {\r\n            var self = this;\r\n            content = this.state.content.map(x => {\r\n                x.onRemove = self.onRemoveChild.bind(this);\r\n                return UniversalDashboard.renderComponent(x);\r\n            })\r\n        } else {\r\n            this.state.content.onRemove = this.onRemoveChild.bind(this);\r\n            content = UniversalDashboard.renderComponent(this.state.content);\r\n        }\r\n\r\n        return <FeatureGroup id={this.props.id} ref={x => this.featureGroup = x}>{popup}{content}</FeatureGroup>\r\n    }\r\n}","import React from 'react';\r\nimport { Popup } from 'react-leaflet';\r\n\r\nexport default class UDPopup extends React.Component {\r\n    render() {\r\n\r\n        var content = null;\r\n        if (Array.isArray(this.props.content)) {\r\n            content = this.props.content.map(x => UniversalDashboard.renderComponent(x));\r\n        } else {\r\n            content = UniversalDashboard.renderComponent(this.props.content);\r\n        }\r\n\r\n        var position = null;\r\n        if (this.props.latitude && this.props.longitude) {\r\n            position = [this.props.latitude, this.props.longitude];\r\n        }\r\n        \r\n        return <Popup position={position} maxWidth={this.props.maxWidth} minWidth={this.props.minWidth}>\r\n            {content}\r\n        </Popup>\r\n    }\r\n}","export function isGuid(str) {\r\n    if (str == null) { return false }\r\n\r\n    if (str[0] === \"{\") \r\n    {\r\n        str = str.substring(1, str.length - 1);\r\n    }\r\n    var regexGuid = /^(\\{){0,1}[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}(\\}){0,1}$/gi;\r\n    var regexGuid = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n    return regexGuid.test(str);\r\n}","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { FeatureGroup as LeafletFeatureGroup } from 'leaflet';\nimport { withLeaflet } from './context';\nimport Path from './Path';\n\nvar FeatureGroup = /*#__PURE__*/function (_Path) {\n  _inheritsLoose(FeatureGroup, _Path);\n\n  function FeatureGroup() {\n    return _Path.apply(this, arguments) || this;\n  }\n\n  var _proto = FeatureGroup.prototype;\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    var el = new LeafletFeatureGroup(this.getOptions(props));\n    this.contextValue = _extends({}, props.leaflet, {\n      layerContainer: el,\n      popupContainer: el\n    });\n    return el;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    _Path.prototype.componentDidMount.call(this);\n\n    this.setStyle(this.props);\n  };\n\n  return FeatureGroup;\n}(Path);\n\nexport default withLeaflet(FeatureGroup);","\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport isEqual from 'fast-deep-equal';\nimport MapLayer from './MapLayer';\nimport pick from './utils/pick';\nvar OPTIONS = ['stroke', 'color', 'weight', 'opacity', 'lineCap', 'lineJoin', 'dashArray', 'dashOffset', 'fill', 'fillColor', 'fillOpacity', 'fillRule', 'bubblingMouseEvents', 'renderer', 'className', // Interactive Layer\n'interactive', // Layer\n'pane', 'attribution'];\n\nvar Path = /*#__PURE__*/function (_MapLayer) {\n  _inheritsLoose(Path, _MapLayer);\n\n  function Path(props) {\n    var _this;\n\n    _this = _MapLayer.call(this, props) || this;\n\n    if (_this.contextValue == null) {\n      _this.contextValue = _extends({}, props.leaflet, {\n        popupContainer: _this.leafletElement\n      });\n    }\n\n    return _this;\n  }\n\n  var _proto = Path.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    _MapLayer.prototype.componentDidUpdate.call(this, prevProps);\n\n    this.setStyleIfChanged(prevProps, this.props);\n  };\n\n  _proto.getPathOptions = function getPathOptions(props) {\n    return pick(props, OPTIONS);\n  };\n\n  _proto.setStyle = function setStyle(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.leafletElement.setStyle(options);\n  };\n\n  _proto.setStyleIfChanged = function setStyleIfChanged(fromProps, toProps) {\n    var nextStyle = this.getPathOptions(toProps);\n\n    if (!isEqual(nextStyle, this.getPathOptions(fromProps))) {\n      this.setStyle(nextStyle);\n    }\n  };\n\n  return Path;\n}(MapLayer);\n\nexport { Path as default };","\"use strict\";\n\nexport default function pick(object, keys) {\n  return keys.reduce(function (obj, key) {\n    if (typeof object[key] !== 'undefined') {\n      obj[key] = object[key];\n    }\n\n    return obj;\n  }, {});\n}"],"names":["React","FeatureGroup","UDPopup","isGuid","UDFeatureGroup","props","state","content","id","pubSubToken","UniversalDashboard","subscribe","onIncomingEvent","bind","Array","isArray","filter","x","setState","eventName","event","type","onRemove","componentId","concat","elements","onReportBounds","featureGroup","leafletElement","getBounds","self","popup","map","onRemoveChild","renderComponent","Component","Popup","position","latitude","longitude","maxWidth","minWidth","str","substring","length","regexGuid","test"],"sourceRoot":""}