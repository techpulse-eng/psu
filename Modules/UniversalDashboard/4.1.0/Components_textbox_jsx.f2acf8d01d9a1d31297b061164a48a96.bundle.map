{"version":3,"file":"Components_textbox_jsx.xxxxxxxxxxxxxxxxxxxx.bundle.js","mappings":"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","sources":["webpack://materialui/./Components/textbox.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { withComponentFeatures } from \"universal-dashboard\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { FormContext } from \"./form\";\r\nimport UDIcon from \"./icon\";\r\nimport InputAdornment from \"@mui/material/InputAdornment\";\r\nimport { FormControl, FormHelperText, Input, InputLabel } from \"@mui/material\";\r\nimport { IMaskInput } from 'react-imask';\r\n\r\nconst UDTextFieldWithContext = (props) => {\r\n  return (\r\n    <FormContext.Consumer>\r\n      {({ onFieldChange, submit }) => (\r\n        <UDTextField {...props} onFieldChange={onFieldChange} submit={submit} />\r\n      )}\r\n    </FormContext.Consumer>\r\n  );\r\n};\r\n\r\nconst TextMaskCustom = React.forwardRef(function TextMaskCustom(props, ref) {\r\n  const { onChange, ...other } = props;\r\n\r\n  return (\r\n    <IMaskInput\r\n      {...other}\r\n      key={props.id + \"mask\"}\r\n      inputRef={ref}\r\n      onAccept={(value) => onChange({ target: { value } })}\r\n      overwrite\r\n    />\r\n  );\r\n});\r\n\r\nconst UDTextField = (props) => {\r\n  const internalVal = React.useRef('');\r\n  const onChange = (e) => {\r\n    const value = e.target.value;\r\n\r\n    if (internalVal.current === value) return;\r\n    internalVal.current = value;\r\n    props.setState({ value })\r\n  };\r\n\r\n  useEffect(() => {\r\n    props.onFieldChange({ id: props.id, value: props.value })\r\n  }, [props.value])\r\n\r\n  const onEnter = () => {\r\n    props.submit();\r\n    if (props.onEnter) {\r\n      props.onEnter();\r\n    }\r\n  }\r\n\r\n  return props?.mask ? (\r\n    <FormControl variant=\"standard\">\r\n      <InputLabel shrink={props?.value} htmlFor={props?.id}>{props?.label}</InputLabel>\r\n      <Input\r\n        {...props}\r\n        key={props.id + \"input\"}\r\n        onChange={onChange}\r\n        startAdornment={\r\n          props?.icon ? (\r\n            <InputAdornment position=\"start\">\r\n              <UDIcon {...props.icon} />\r\n            </InputAdornment>\r\n          ) : null\r\n        }\r\n        id={props?.id}\r\n        inputComponent={TextMaskCustom}\r\n        inputProps={\r\n          {\r\n            mask: props.mask,\r\n            unmask: props.unmask\r\n          }\r\n        }\r\n      />\r\n\r\n      {props?.helperText && (\r\n        <FormHelperText id={props?.id}>{props?.helperText}</FormHelperText>\r\n      )}\r\n    </FormControl>\r\n  ) : (\r\n    <TextField\r\n      {...props}\r\n      type={props.textType}\r\n      key={props.id + \"input\"}\r\n      onChange={onChange}\r\n      onKeyUp={(e) => e.key === \"Enter\" && !props.multiline && onEnter()}\r\n      InputLabelProps={{\r\n        shrink: props?.value,\r\n      }}\r\n      InputProps={{\r\n        startAdornment: props?.icon ? (\r\n          <InputAdornment position=\"start\">\r\n            <UDIcon {...props.icon} />\r\n          </InputAdornment>\r\n        ) : null,\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withComponentFeatures(UDTextFieldWithContext);\r\n"],"names":["React","useEffect","withComponentFeatures","TextField","FormContext","UDIcon","InputAdornment","FormControl","FormHelperText","Input","InputLabel","IMaskInput","UDTextFieldWithContext","props","onFieldChange","submit","TextMaskCustom","forwardRef","ref","onChange","other","id","value","target","UDTextField","internalVal","useRef","e","current","setState","onEnter","mask","label","icon","unmask","helperText","textType","key","multiline","shrink","startAdornment"],"sourceRoot":""}