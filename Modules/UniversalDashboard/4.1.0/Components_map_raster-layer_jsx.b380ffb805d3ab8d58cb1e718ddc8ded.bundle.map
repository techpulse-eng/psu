{"version":3,"file":"Components_map_raster-layer_jsx.xxxxxxxxxxxxxxxxxxxx.bundle.js","mappings":"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","sources":["webpack://materialui/./Components/map/bing-layer.jsx","webpack://materialui/./Components/map/raster-layer.jsx","webpack://materialui/./node_modules/react-leaflet/es/GridLayer.js","webpack://materialui/./node_modules/react-leaflet/es/MapComponent.js","webpack://materialui/./node_modules/react-leaflet/es/MapEvented.js","webpack://materialui/./node_modules/react-leaflet/es/MapLayer.js","webpack://materialui/./node_modules/react-leaflet/es/TileLayer.js"],"sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {GridLayer, withLeaflet} from 'react-leaflet';\r\nimport L from 'leaflet';\r\n\r\nL.BingLayer = L.TileLayer.extend({\r\n\toptions: {\r\n\t\tsubdomains: [0, 1, 2, 3],\r\n\t\ttype: 'Aerial',\r\n\t\tattribution: 'Bing',\r\n\t\tculture: '',\r\n        style: ''\r\n\t},\r\n\r\n\tinitialize: function (bing_key, options) {\r\n\t\tL.Util.setOptions(this, options);\r\n\r\n\t\tthis._bing_key = bing_key;\r\n\t\tthis._url = null;\r\n\t\tthis._providers = [];\r\n\t\tthis.metaRequested = false;\r\n\t},\r\n\r\n\ttile2quad: function (x, y, z) {\r\n\t\tvar quad = '';\r\n\t\tfor (var i = z; i > 0; i--) {\r\n\t\t\tvar digit = 0;\r\n\t\t\tvar mask = 1 << (i - 1);\r\n\t\t\tif ((x & mask) !== 0) digit += 1;\r\n\t\t\tif ((y & mask) !== 0) digit += 2;\r\n\t\t\tquad = quad + digit;\r\n\t\t}\r\n\t\treturn quad;\r\n\t},\r\n\r\n\tgetTileUrl: function (tilePoint) {\r\n\t\tvar zoom = this._getZoomForUrl();\r\n\t\tvar subdomains = this.options.subdomains,\r\n\t\t\ts = this.options.subdomains[Math.abs((tilePoint.x + tilePoint.y) % subdomains.length)];\r\n\t\treturn this._url.replace('{subdomain}', s)\r\n\t\t\t\t.replace('{quadkey}', this.tile2quad(tilePoint.x, tilePoint.y, zoom))\r\n\t\t\t\t.replace('{culture}', this.options.culture);\r\n\t},\r\n\r\n\tloadMetadata: function () {\r\n\t\tif (this.metaRequested) return;\r\n\t\tthis.metaRequested = true;\r\n\t\tvar _this = this;\r\n\t\tvar cbid = '_bing_metadata_' + L.Util.stamp(this);\r\n\t\twindow[cbid] = function (meta) {\r\n\t\t\twindow[cbid] = undefined;\r\n\t\t\tvar e = document.getElementById(cbid);\r\n\t\t\te.parentNode.removeChild(e);\r\n\t\t\tif (meta.errorDetails) {\r\n\t\t\t\tconsole.log(meta.errorDetails);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t_this.initMetadata(meta);\r\n\t\t};\r\n\t\tvar urlScheme = (document.location.protocol === 'file:') ? 'http' : document.location.protocol.slice(0, -1);\r\n\t\tvar url = urlScheme + '://dev.virtualearth.net/REST/v1/Imagery/Metadata/'\r\n\t\t\t\t\t+ this.options.type + '?include=ImageryProviders&jsonp=' + cbid +\r\n\t\t\t\t\t'&key=' + this._bing_key + '&UriScheme=' + urlScheme + '&culture=' + this.options.culture + '&style=' + this.options.style;\r\n\t\tvar script = document.createElement('script');\r\n\t\tscript.type = 'text/javascript';\r\n\t\tscript.src = url;\r\n\t\tscript.id = cbid;\r\n\t\tdocument.getElementsByTagName('head')[0].appendChild(script);\r\n\t},\r\n\r\n\tinitMetadata: function (meta) {\r\n\t\tvar r = meta.resourceSets[0].resources[0];\r\n\t\tthis.options.subdomains = r.imageUrlSubdomains;\r\n\t\tthis._url = r.imageUrl;\r\n\t\tif (r.imageryProviders) {\r\n\t\t\tfor (var i = 0; i < r.imageryProviders.length; i++) {\r\n\t\t\t\tvar p = r.imageryProviders[i];\r\n\t\t\t\tfor (var j = 0; j < p.coverageAreas.length; j++) {\r\n\t\t\t\t\tvar c = p.coverageAreas[j];\r\n\t\t\t\t\tvar coverage = {zoomMin: c.zoomMin, zoomMax: c.zoomMax, active: false};\r\n\t\t\t\t\tvar bounds = new L.LatLngBounds(\r\n\t\t\t\t\t\t\tnew L.LatLng(c.bbox[0]+0.01, c.bbox[1]+0.01),\r\n\t\t\t\t\t\t\tnew L.LatLng(c.bbox[2]-0.01, c.bbox[3]-0.01)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tcoverage.bounds = bounds;\r\n\t\t\t\t\tcoverage.attrib = p.attribution;\r\n\t\t\t\t\tthis._providers.push(coverage);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._update();\r\n\t},\r\n\r\n\t_update: function () {\r\n\t\tif (this._url === null || !this._map) return;\r\n\t\tthis._update_attribution();\r\n\t\tL.TileLayer.prototype._update.apply(this, []);\r\n\t},\r\n\r\n\t_update_attribution: function () {\r\n\t\tvar bounds = this._map.getBounds();\r\n\t\tvar zoom = this._map.getZoom();\r\n\t\tfor (var i = 0; i < this._providers.length; i++) {\r\n\t\t\tvar p = this._providers[i];\r\n\t\t\tif ((zoom <= p.zoomMax && zoom >= p.zoomMin) &&\r\n\t\t\t\t\tbounds.intersects(p.bounds)) {\r\n\t\t\t\tif (!p.active && this._map.attributionControl)\r\n\t\t\t\t\tthis._map.attributionControl.addAttribution(p.attrib);\r\n\t\t\t\tp.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (p.active && this._map.attributionControl)\r\n\t\t\t\t\tthis._map.attributionControl.removeAttribution(p.attrib);\r\n\t\t\t\tp.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tthis.loadMetadata();\r\n\t\tL.TileLayer.prototype.onAdd.apply(this, [map]);\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tfor (var i = 0; i < this._providers.length; i++) {\r\n\t\t\tvar p = this._providers[i];\r\n\t\t\tif (p.active && this._map.attributionControl) {\r\n\t\t\t\tthis._map.attributionControl.removeAttribution(p.attrib);\r\n\t\t\t\tp.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tL.TileLayer.prototype.onRemove.apply(this, [map]);\r\n\t}\r\n});\r\n\r\nL.bingLayer = function (bing_key, options) {\r\n    return new L.BingLayer(bing_key, options);\r\n};\r\n\r\nclass BingLayer extends GridLayer {\r\n    static propTypes = {\r\n        bingkey: PropTypes.string.isRequired\r\n    };\r\n\r\n    createLeafletElement(props) {\r\n        return L.bingLayer(props.bingkey, this.getOptions(props));\r\n    }\r\n}\r\n\r\nexport default withLeaflet(BingLayer);","import React from 'react';\r\nimport { TileLayer } from 'react-leaflet';\r\nimport BingLayer from './bing-layer';\r\n\r\nexport default class UDRasterLayer extends React.Component {\r\n    render() {\r\n        if (this.props.bing) {\r\n            return <BingLayer bingkey={this.props.apiKey} type={this.props.mapType}  />\r\n        } else {\r\n            return <TileLayer url={this.props.tileServer} attribution={this.props.attribution} opacity={this.props.opacity} zIndex={this.props.zIndex}  />\r\n        }\r\n    }\r\n}","\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { GridLayer as LeafletGridLayer } from 'leaflet';\nimport MapLayer from './MapLayer';\n\nvar GridLayer = /*#__PURE__*/function (_MapLayer) {\n  _inheritsLoose(GridLayer, _MapLayer);\n\n  function GridLayer() {\n    return _MapLayer.apply(this, arguments) || this;\n  }\n\n  var _proto = GridLayer.prototype;\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    return new LeafletGridLayer(this.getOptions(props));\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    var opacity = toProps.opacity,\n        zIndex = toProps.zIndex;\n\n    if (opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(opacity);\n    }\n\n    if (zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(zIndex);\n    }\n  };\n\n  _proto.getOptions = function getOptions(props) {\n    var options = _extends({}, _MapLayer.prototype.getOptions.call(this, props));\n\n    var map = props.leaflet.map;\n\n    if (map != null) {\n      // $FlowFixMe: Object spread\n      if (options.maxZoom == null && map.options.maxZoom != null) {\n        // $FlowFixMe: Object spread\n        options.maxZoom = map.options.maxZoom;\n      } // $FlowFixMe: Object spread\n\n\n      if (options.minZoom == null && map.options.minZoom != null) {\n        // $FlowFixMe: Object spread\n        options.minZoom = map.options.minZoom;\n      }\n    }\n\n    return options;\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return GridLayer;\n}(MapLayer);\n\nexport { GridLayer as default };","\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport MapEvented from './MapEvented';\n\nvar MapComponent = /*#__PURE__*/function (_MapEvented) {\n  _inheritsLoose(MapComponent, _MapEvented);\n\n  function MapComponent() {\n    return _MapEvented.apply(this, arguments) || this;\n  }\n\n  var _proto = MapComponent.prototype;\n\n  _proto.getOptions = function getOptions(props) {\n    if (props.pane != null) {\n      return props;\n    }\n\n    if (props.leaflet != null && props.leaflet.pane != null) {\n      return _extends({}, props, {\n        pane: props.leaflet.pane\n      });\n    }\n\n    return props;\n  };\n\n  return MapComponent;\n}(MapEvented);\n\nexport { MapComponent as default };","\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Component } from 'react';\nexport var EVENTS_RE = /^on(.+)$/i;\n\nvar MapEvented = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MapEvented, _Component);\n\n  function MapEvented(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_leafletEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"leafletElement\", void 0);\n\n    _this._leafletEvents = _this.extractLeafletEvents(props);\n    return _this;\n  }\n\n  var _proto = MapEvented.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.bindLeafletEvents(this._leafletEvents);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(_prevProps) {\n    this._leafletEvents = this.bindLeafletEvents(this.extractLeafletEvents(this.props), this._leafletEvents);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this2 = this;\n\n    var el = this.leafletElement;\n    if (!el) return;\n    Object.keys(this._leafletEvents).forEach(function (ev) {\n      el.off(ev, _this2._leafletEvents[ev]);\n    });\n  };\n\n  _proto.extractLeafletEvents = function extractLeafletEvents(props) {\n    return Object.keys(props).reduce(function (res, prop) {\n      if (EVENTS_RE.test(prop)) {\n        if (props[prop] != null) {\n          var _key = prop.replace(EVENTS_RE, function (match, p) {\n            return p.toLowerCase();\n          });\n\n          res[_key] = props[prop];\n        }\n      }\n\n      return res;\n    }, {});\n  };\n\n  _proto.bindLeafletEvents = function bindLeafletEvents(next, prev) {\n    if (next === void 0) {\n      next = {};\n    }\n\n    if (prev === void 0) {\n      prev = {};\n    }\n\n    var el = this.leafletElement;\n    if (el == null || el.on == null) return {};\n\n    var diff = _extends({}, prev);\n\n    Object.keys(prev).forEach(function (ev) {\n      if (next[ev] == null || prev[ev] !== next[ev]) {\n        delete diff[ev];\n        el.off(ev, prev[ev]);\n      }\n    });\n    Object.keys(next).forEach(function (ev) {\n      if (prev[ev] == null || next[ev] !== prev[ev]) {\n        diff[ev] = next[ev];\n        el.on(ev, next[ev]);\n      }\n    });\n    return diff;\n  };\n\n  _proto.fireLeafletEvent = function fireLeafletEvent(type, data) {\n    var el = this.leafletElement;\n    if (el) el.fire(type, data);\n  };\n\n  return MapEvented;\n}(Component);\n\nexport { MapEvented as default };","\"use strict\";\n\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { Fragment } from 'react';\nimport { LeafletProvider } from './context';\nimport MapComponent from './MapComponent';\n\nvar MapLayer = /*#__PURE__*/function (_MapComponent) {\n  _inheritsLoose(MapLayer, _MapComponent);\n\n  function MapLayer(props) {\n    var _this;\n\n    _this = _MapComponent.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"contextValue\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"leafletElement\", void 0);\n\n    _this.leafletElement = _this.createLeafletElement(props);\n    return _this;\n  }\n\n  var _proto = MapLayer.prototype;\n\n  _proto.createLeafletElement = function createLeafletElement(_props) {\n    throw new Error('createLeafletElement() must be implemented');\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(_fromProps, _toProps) {};\n\n  _proto.componentDidMount = function componentDidMount() {\n    _MapComponent.prototype.componentDidMount.call(this);\n\n    this.layerContainer.addLayer(this.leafletElement);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    _MapComponent.prototype.componentDidUpdate.call(this, prevProps);\n\n    if (this.props.attribution !== prevProps.attribution) {\n      var map = this.props.leaflet.map;\n\n      if (map != null && map.attributionControl != null) {\n        map.attributionControl.removeAttribution(prevProps.attribution);\n        map.attributionControl.addAttribution(this.props.attribution);\n      }\n    }\n\n    this.updateLeafletElement(prevProps, this.props);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    _MapComponent.prototype.componentWillUnmount.call(this);\n\n    this.layerContainer.removeLayer(this.leafletElement);\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n\n    if (children == null) {\n      return null;\n    }\n\n    return this.contextValue == null ? /*#__PURE__*/React.createElement(Fragment, null, children) : /*#__PURE__*/React.createElement(LeafletProvider, {\n      value: this.contextValue\n    }, children);\n  };\n\n  _createClass(MapLayer, [{\n    key: \"layerContainer\",\n    get: function get() {\n      return this.props.leaflet.layerContainer || this.props.leaflet.map;\n    }\n  }]);\n\n  return MapLayer;\n}(MapComponent);\n\nexport { MapLayer as default };","\"use strict\";\n\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { TileLayer as LeafletTileLayer } from 'leaflet';\nimport { withLeaflet } from './context';\nimport GridLayer from './GridLayer';\n\nvar TileLayer = /*#__PURE__*/function (_GridLayer) {\n  _inheritsLoose(TileLayer, _GridLayer);\n\n  function TileLayer() {\n    return _GridLayer.apply(this, arguments) || this;\n  }\n\n  var _proto = TileLayer.prototype;\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    return new LeafletTileLayer(props.url, this.getOptions(props));\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    _GridLayer.prototype.updateLeafletElement.call(this, fromProps, toProps);\n\n    if (toProps.url !== fromProps.url) {\n      this.leafletElement.setUrl(toProps.url);\n    }\n  };\n\n  return TileLayer;\n}(GridLayer);\n\nexport default withLeaflet(TileLayer);"],"names":["React","PropTypes","GridLayer","withLeaflet","L","BingLayer","TileLayer","extend","options","subdomains","type","attribution","culture","style","initialize","bing_key","Util","setOptions","_bing_key","_url","_providers","metaRequested","tile2quad","x","y","z","quad","i","digit","mask","getTileUrl","tilePoint","zoom","_getZoomForUrl","s","Math","abs","length","replace","loadMetadata","_this","cbid","stamp","window","meta","undefined","e","document","getElementById","parentNode","removeChild","errorDetails","console","log","initMetadata","urlScheme","location","protocol","slice","url","script","createElement","src","id","getElementsByTagName","appendChild","r","resourceSets","resources","p","j","c","coverage","bounds","imageUrlSubdomains","imageUrl","imageryProviders","coverageAreas","zoomMin","zoomMax","active","LatLngBounds","LatLng","bbox","attrib","push","_update","_map","_update_attribution","prototype","apply","getBounds","getZoom","intersects","attributionControl","addAttribution","removeAttribution","onAdd","map","onRemove","bingLayer","props","bingkey","getOptions","string","isRequired","UDRasterLayer","bing","apiKey","mapType","tileServer","opacity","zIndex","Component"],"sourceRoot":""}