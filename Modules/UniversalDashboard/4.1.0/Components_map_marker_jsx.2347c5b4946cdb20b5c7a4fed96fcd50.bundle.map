{"version":3,"file":"Components_map_marker_jsx.xxxxxxxxxxxxxxxxxxxx.bundle.js","mappings":"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","sources":["webpack://materialui/./Components/map/marker.jsx","webpack://materialui/./Components/map/popup.jsx","webpack://materialui/./Components/map/utils.jsx","webpack://materialui/./node_modules/react-leaflet/es/Marker.js"],"sourcesContent":["import React from 'react';\r\nimport { Marker, Popup } from 'react-leaflet';\r\nimport UDPopup from './popup';\r\nimport L from 'leaflet';\r\nimport { isGuid } from './utils';\r\n\r\nexport default class UDMarker extends React.Component {\r\n\r\n    componentWillMount() {\r\n        if (!isGuid(this.props.id)) {\r\n            this.pubSubToken = UniversalDashboard.subscribe(this.props.id, this.onIncomingEvent.bind(this));\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.onReportBounds) {\r\n            this.props.onReportBounds(\r\n                [\r\n                    [this.props.latitude, this.props.longitude],\r\n                    [this.props.latitude, this.props.longitude]\r\n                ]\r\n            )\r\n        }\r\n    }\r\n\r\n    onIncomingEvent(eventName, event) {\r\n        if (event.type === \"removeElement\") {\r\n            this.props.onRemove(event.componentId);\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        var icon = null;\r\n        if (this.props.icon) {\r\n\r\n            var options = {\r\n                iconUrl: this.props.icon.url\r\n            }\r\n\r\n            if (this.props.icon.width && this.props.icon.height) {\r\n                options['iconSize'] = [this.props.icon.width, this.props.icon.height]\r\n            }\r\n\r\n            if (this.props.icon.anchorX && this.props.icon.anchorY) {\r\n                options['iconAnchor'] = [this.props.icon.anchorX, this.props.icon.anchorY]\r\n            }\r\n\r\n            if (this.props.icon.popupAchorX && this.props.icon.popupAchorY) {\r\n                options['popupAnchor'] = [this.props.icon.popupAchorX, this.props.icon.popupAchorY]\r\n            }\r\n\r\n            icon = L.icon(options);\r\n        } else {\r\n            icon = L.icon({\r\n                iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\r\n                iconUrl: require('leaflet/dist/images/marker-icon.png'),\r\n                shadowUrl: require('leaflet/dist/images/marker-shadow.png')\r\n            });\r\n        }\r\n    \r\n        var position = [this.props.latitude, this.props.longitude];\r\n\r\n        var popup = null;\r\n        if (this.props.popup) {\r\n            popup = <UDPopup {...this.props.popup} latitude={this.props.latitude} longitude={this.props.longitude} />\r\n        }\r\n\r\n        return <Marker position={position} icon={icon} ref={x => this.marker = x}>{popup}</Marker>\r\n    }\r\n}","import React from 'react';\r\nimport { Popup } from 'react-leaflet';\r\n\r\nexport default class UDPopup extends React.Component {\r\n    render() {\r\n\r\n        var content = null;\r\n        if (Array.isArray(this.props.content)) {\r\n            content = this.props.content.map(x => UniversalDashboard.renderComponent(x));\r\n        } else {\r\n            content = UniversalDashboard.renderComponent(this.props.content);\r\n        }\r\n\r\n        var position = null;\r\n        if (this.props.latitude && this.props.longitude) {\r\n            position = [this.props.latitude, this.props.longitude];\r\n        }\r\n        \r\n        return <Popup position={position} maxWidth={this.props.maxWidth} minWidth={this.props.minWidth}>\r\n            {content}\r\n        </Popup>\r\n    }\r\n}","export function isGuid(str) {\r\n    if (str == null) { return false }\r\n\r\n    if (str[0] === \"{\") \r\n    {\r\n        str = str.substring(1, str.length - 1);\r\n    }\r\n    var regexGuid = /^(\\{){0,1}[0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12}(\\}){0,1}$/gi;\r\n    var regexGuid = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\r\n    return regexGuid.test(str);\r\n}","\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { Marker as LeafletMarker } from 'leaflet';\nimport React from 'react';\nimport { LeafletProvider, withLeaflet } from './context';\nimport MapLayer from './MapLayer';\n\nvar Marker = /*#__PURE__*/function (_MapLayer) {\n  _inheritsLoose(Marker, _MapLayer);\n\n  function Marker() {\n    return _MapLayer.apply(this, arguments) || this;\n  }\n\n  var _proto = Marker.prototype;\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    var el = new LeafletMarker(props.position, this.getOptions(props));\n    this.contextValue = _extends({}, props.leaflet, {\n      popupContainer: el\n    });\n    return el;\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setLatLng(toProps.position);\n    }\n\n    if (toProps.icon !== fromProps.icon) {\n      this.leafletElement.setIcon(toProps.icon);\n    }\n\n    if (toProps.zIndexOffset !== fromProps.zIndexOffset) {\n      this.leafletElement.setZIndexOffset(toProps.zIndexOffset);\n    }\n\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity);\n    }\n\n    if (toProps.draggable !== fromProps.draggable) {\n      if (toProps.draggable === true) {\n        this.leafletElement.dragging.enable();\n      } else {\n        this.leafletElement.dragging.disable();\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n    return children == null || this.contextValue == null ? null : /*#__PURE__*/React.createElement(LeafletProvider, {\n      value: this.contextValue\n    }, children);\n  };\n\n  return Marker;\n}(MapLayer);\n\nexport default withLeaflet(Marker);"],"names":["React","Marker","Popup","UDPopup","L","isGuid","UDMarker","props","id","pubSubToken","UniversalDashboard","subscribe","onIncomingEvent","bind","onReportBounds","latitude","longitude","eventName","event","type","onRemove","componentId","options","icon","iconUrl","url","width","height","anchorX","anchorY","popupAchorX","popupAchorY","iconRetinaUrl","require","shadowUrl","position","popup","x","marker","Component","content","Array","isArray","map","renderComponent","maxWidth","minWidth","str","substring","length","regexGuid","test"],"sourceRoot":""}